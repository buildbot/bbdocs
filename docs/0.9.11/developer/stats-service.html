
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>3.1.24. Statistics Service &#8212; Buildbot 0.9.11 documentation</title>
    <link rel="stylesheet" href="../_static/qtile.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.11',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/buildbot.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3.1.25. How to package Buildbot plugins" href="plugins-publish.html" />
    <link rel="prev" title="3.1.21. Secrets" href="secrets.html" /> 
  <!-- GA-TRACKING-START -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try{
var pageTracker = _gat._getTracker("UA-12313843-4");
pageTracker._setDomainName("none");
pageTracker._setAllowLinker(true);
pageTracker._trackPageview();
} catch(err) {}
</script>
<!-- GA-TRACKING-END -->
</head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="plugins-publish.html" title="3.1.25. How to package Buildbot plugins"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="secrets.html" title="3.1.21. Secrets"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Buildbot 0.9.11 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >3. Buildbot Development</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="general.html" accesskey="U">3.1. General Documents</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="statistics-service">
<span id="stats-service"></span><h1>3.1.24. Statistics Service<a class="headerlink" href="#statistics-service" title="Permalink to this headline">¶</a></h1>
<p>The statistic service (or stats service) is implemented in <code class="xref py py-mod docutils literal"><span class="pre">buildbot.statistics.stats_service</span></code>.
Please see <a class="reference internal" href="../manual/cfg-global.html#cfg-stats-service" title="stats-service"><code class="xref bb bb-cfg docutils literal"><span class="pre">stats-service</span></code></a> for more information.</p>
<p>Here is a diagram demonstrating the working of the stats service:</p>
<img alt="../_images/stats-service.png" src="../_images/stats-service.png" />
<div class="section" id="id1">
<h2>3.1.24.1. Stats Service<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="buildbot.statistics.stats_service.StatsService">
<em class="property">class </em><code class="descclassname">buildbot.statistics.stats_service.</code><code class="descname">StatsService</code><a class="headerlink" href="#buildbot.statistics.stats_service.StatsService" title="Permalink to this definition">¶</a></dt>
<dd><p>An instance of this class functions as a <code class="xref py py-class docutils literal"><span class="pre">BuildbotService</span></code>.
The instance of the running service is initialized in the master configuration file (see <a class="reference internal" href="../manual/cfg-global.html#cfg-stats-service" title="stats-service"><code class="xref bb bb-cfg docutils literal"><span class="pre">stats-service</span></code></a> for more information).
The running service is accessible everywhere in Buildbot via the <code class="xref py py-class docutils literal"><span class="pre">BuildMaster</span></code>.
The service is available at <code class="docutils literal"><span class="pre">self.master.namedServices['&lt;service-name&gt;']</span></code>.
It takes the following intialization arguments:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">storage_backends</span></code></dt>
<dd>A list of storage backends.
These are instance of subclasses of <code class="xref py py-class docutils literal"><span class="pre">StatsStorageBase</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">name</span></code></dt>
<dd>(str) The name of this service.
This name can be used to access the running instance of this service using <code class="docutils literal"><span class="pre">self.master.namedServices[name]</span></code>.</dd>
</dl>
<p>Please see <a class="reference internal" href="../manual/cfg-global.html#cfg-stats-service" title="stats-service"><code class="xref bb bb-cfg docutils literal"><span class="pre">stats-service</span></code></a> for examples.</p>
<dl class="method">
<dt id="buildbot.statistics.stats_service.StatsService.checkConfig">
<code class="descname">checkConfig</code><span class="sig-paren">(</span><em>self</em>, <em>storage_backends</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.stats_service.StatsService.checkConfig" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt><code class="docutils literal"><span class="pre">storage_backends</span></code></dt>
<dd>A list of storage backends.</dd>
</dl>
<p>This method is called automatically to verify that the list of storage backends contains instances of subclasses of <code class="xref py py-class docutils literal"><span class="pre">StatsStorageBase</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.statistics.stats_service.StatsService.reconfigService">
<code class="descname">reconfigService</code><span class="sig-paren">(</span><em>self</em>, <em>storage_backends</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.stats_service.StatsService.reconfigService" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt><code class="docutils literal"><span class="pre">storage_backends</span></code></dt>
<dd>A list of storage backends.</dd>
</dl>
<p>This mehtod is called automatically to reconfigure the running service.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.statistics.stats_service.StatsService.registerConsumers">
<code class="descname">registerConsumers</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.stats_service.StatsService.registerConsumers" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal method for this class called to register all consumers (methods from Capture classes) to the MQ layer.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.statistics.stats_service.StatsService.stopService">
<code class="descname">stopService</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.stats_service.StatsService.stopService" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal method for this class to stop the stats service and clean up.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.statistics.stats_service.StatsService.removeConsumers">
<code class="descname">removeConsumers</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.stats_service.StatsService.removeConsumers" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal method for this class to stop and remove consumers from the MQ layer.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.statistics.stats_service.StatsService.yieldMetricsValue">
<code class="descname">yieldMetricsValue</code><span class="sig-paren">(</span><em>self</em>, <em>data_name</em>, <em>post_data</em>, <em>buildid</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.stats_service.StatsService.yieldMetricsValue" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt><code class="docutils literal"><span class="pre">data_name</span></code></dt>
<dd>(str) The name of the data being sent or storage.</dd>
<dt><code class="docutils literal"><span class="pre">post_data</span></code></dt>
<dd>A dictionary of key value pair that is sent for storage.</dd>
<dt><code class="docutils literal"><span class="pre">buildid</span></code></dt>
<dd>The integer build id of the current build.
Obtainable in all <code class="docutils literal"><span class="pre">BuildSteps</span></code>.</dd>
</dl>
<p>This method should be called to post data that is not generated and stored as build-data in the database.
This method generates the <code class="docutils literal"><span class="pre">stats-yield-data</span></code> event to the mq layer which is then consumed in <code class="xref py py-class docutils literal"><span class="pre">postData</span></code>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="storage-backends">
<span id="storage-backend"></span><h2>3.1.24.2. Storage backends<a class="headerlink" href="#storage-backends" title="Permalink to this headline">¶</a></h2>
<p>Storage backends are responsible for storing any statistics/data sent to them.
A storage backend will generally be some sort of a database-server running on a machine.
.. note:: This machine may be different from the one running <code class="xref py py-class docutils literal"><span class="pre">BuildMaster</span></code></p>
<p>Data is captured according to the master config file and then, is sent to each of the storage backends provided by the master configuration (see <a class="reference internal" href="../manual/cfg-global.html#cfg-stats-service" title="stats-service"><code class="xref bb bb-cfg docutils literal"><span class="pre">stats-service</span></code></a>).</p>
<p>Each storage backend has a Python client defined as part of <code class="xref py py-mod docutils literal"><span class="pre">buildbot.statistics.storage_backends</span></code> to aid in posting data by <code class="xref py py-class docutils literal"><span class="pre">StatsService</span></code>.</p>
<p>Currently, only <a class="reference external" href="https://influxdata.com/time-series-platform/influxdb/">InfluxDB</a> is supported as a storage backend.</p>
<dl class="class">
<dt id="buildbot.statistis.storage_backends.base.StatsStorageBase">
<em class="property">class </em><code class="descclassname">buildbot.statistis.storage_backends.base.</code><code class="descname">StatsStorageBase</code><a class="headerlink" href="#buildbot.statistis.storage_backends.base.StatsStorageBase" title="Permalink to this definition">¶</a></dt>
<dd><p>A abstract class for all storage services.
It cannot be directly initialized - it would raise a <code class="docutils literal"><span class="pre">TypeError</span></code> otherwise.</p>
<dl class="method">
<dt id="buildbot.statistis.storage_backends.base.StatsStorageBase.thd_postStatsValue">
<code class="descname">thd_postStatsValue</code><span class="sig-paren">(</span><em>self</em>, <em>post_data</em>, <em>series_name</em>, <em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistis.storage_backends.base.StatsStorageBase.thd_postStatsValue" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt><code class="docutils literal"><span class="pre">post_data</span></code></dt>
<dd>A dict of key-value pairs that is sent for storage.
The keys of this dict can be thought of as columns in a database and the value is the data stored for that column.</dd>
<dt><code class="docutils literal"><span class="pre">series_name</span></code></dt>
<dd>(str) The name of the time-series for this statistic.</dd>
<dt><code class="docutils literal"><span class="pre">context</span></code></dt>
<dd>(Optional) Any other contextual information about the data.
It is a dict of key-value pairs.</dd>
</dl>
<p>An abstract method that needs to be implemented by every child class of this class.
Not doing so will result result in a <code class="docutils literal"><span class="pre">TypeError</span></code> when starting Buildbot.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.storage_backends.influxdb_client.InfluxStorageService">
<em class="property">class </em><code class="descclassname">buildbot.statistics.storage_backends.influxdb_client.</code><code class="descname">InfluxStorageService</code><a class="headerlink" href="#buildbot.statistics.storage_backends.influxdb_client.InfluxStorageService" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://influxdata.com/time-series-platform/influxdb/">InfluxDB</a> is a distributed, time series database that employs a key-value pair storage system.</p>
<p>This class is a Buildbot client to the InfluxDB storage backend.
It is available in the configuration as <code class="docutils literal"><span class="pre">statistics.InfluxStorageService</span></code>.
It takes the following initialization arguments:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">url</span></code></dt>
<dd>(str) The URL where the service is running.</dd>
<dt><code class="docutils literal"><span class="pre">port</span></code></dt>
<dd>(int) The port on which the service is listening.</dd>
<dt><code class="docutils literal"><span class="pre">user</span></code></dt>
<dd>(str) Username of a InfluxDB user.</dd>
<dt><code class="docutils literal"><span class="pre">password</span></code></dt>
<dd>(str) Password for <code class="docutils literal"><span class="pre">user</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">db</span></code></dt>
<dd>(str) The name of database to be used.</dd>
<dt><code class="docutils literal"><span class="pre">captures</span></code></dt>
<dd>A list of instances of subclasses of <code class="xref py py-class docutils literal"><span class="pre">Capture</span></code>.
This tells which stats are to be stored in this storage backend.</dd>
<dt><code class="docutils literal"><span class="pre">name=None</span></code></dt>
<dd>(Optional) (str) The name of this storage backend.</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.storage_backends.influxdb_client.InfluxStorageService.thd_postStatsValue">
<code class="descname">thd_postStatsValue</code><span class="sig-paren">(</span><em>self</em>, <em>post_data</em>, <em>series_name</em>, <em>context={}</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.storage_backends.influxdb_client.InfluxStorageService.thd_postStatsValue" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt><code class="docutils literal"><span class="pre">post_data</span></code></dt>
<dd>A dict of key-value pairs that is sent for storage.
The keys of this dict can be thought of as columns in a database and the value is the data stored for that column.</dd>
<dt><code class="docutils literal"><span class="pre">series_name</span></code></dt>
<dd>(str) The name of the time-series for this statistic.</dd>
<dt><code class="docutils literal"><span class="pre">context</span></code></dt>
<dd>(Optional) Any other contextual information about the data.
It is a dict of key-value pairs.</dd>
</dl>
<p>This method constructs a dictionary of data to be sent to InfluxDB in the proper format and sends the data to the influxDB instance.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="capture-classes">
<h2>3.1.24.3. Capture Classes<a class="headerlink" href="#capture-classes" title="Permalink to this headline">¶</a></h2>
<p>Capture classes are used for declaring which data needs to captured and sent to storage backends for storage.</p>
<dl class="class">
<dt id="buildbot.statistics.capture.Capture">
<em class="property">class </em><code class="descclassname">buildbot.statistics.capture.</code><code class="descname">Capture</code><a class="headerlink" href="#buildbot.statistics.capture.Capture" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the abstract base class for all capture classes.
Not to be used directly.
Initlized with the following parameters:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">routingKey</span></code></dt>
<dd>(tuple) The routing key to be used by <code class="xref py py-class docutils literal"><span class="pre">StatsService</span></code> to register consumers to the MQ layer for the subclass of this class.</dd>
<dt><code class="docutils literal"><span class="pre">callback</span></code></dt>
<dd>The callback registered with the MQ layer for the consumer of a subclass of this class.
Each subclass must provide a default callback for this purpose.</dd>
</dl>
<dl class="method">
<dt>
<code class="descname">_defaultContext(self, msg):</code></dt>
<dd><p>A method for providing default context to the storage backends.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">consume(self, routingKey, msg):</code></dt>
<dd><p>This is an abstract method - each subclass of this class should implement its own consume method.
If not, then the subclass can’t be instantiated.
The consume method, when called (from the mq layer), receives the following arguments:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">routingKey</span></code></dt>
<dd>The routing key which was registered to the MQ layer.
Same as the <code class="docutils literal"><span class="pre">routingKey</span></code> provided to instantiate this class.</dd>
<dt><code class="docutils literal"><span class="pre">msg</span></code></dt>
<dd>The message that was sent by the producer.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_store(self, post_data, series_name, context):</code></dt>
<dd><p>This is an abstract method of this class.
It must be implemented by all subclasses of this class.
It takes the following arguments:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">post_data</span></code></dt>
<dd>(dict) The key-value pair being sent to the storage backend.</dd>
<dt><code class="docutils literal"><span class="pre">series_name</span></code></dt>
<dd>(str) The name of the series to which this data is stored.</dd>
<dt><code class="docutils literal"><span class="pre">context</span></code></dt>
<dd>(dict) Any additional information pertaining to data being sent.</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CapturePropertyBase">
<em class="property">class </em><code class="descclassname">buildbot.statistics.capture.</code><code class="descname">CapturePropertyBase</code><a class="headerlink" href="#buildbot.statistics.capture.CapturePropertyBase" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a base class for both <code class="xref py py-class docutils literal"><span class="pre">CaptureProperty</span></code> and <code class="xref py py-class docutils literal"><span class="pre">CapturePropertyAllBuilders</span></code> and abstracts away much of the common functionaltiy between the two classes.
Cannot be initialzed directly as it contains an abstract method and raises <code class="docutils literal"><span class="pre">TypeError</span></code> if tried.
It is initialized with the following arguments:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">property_name</span></code></dt>
<dd>(str) The name of property needed to be recorded as a statistic.
This can be a regular expression if <code class="docutils literal"><span class="pre">regex=True</span></code> (see below).</dd>
<dt><code class="docutils literal"><span class="pre">callback=None</span></code></dt>
<dd><p class="first">The callback function that is used by <code class="docutils literal"><span class="pre">CaptureProperty.consumer</span></code> to post-process data before formatting it and sending it to the appropriate storage backends.
A default callback needs to be prois provided for this.</p>
<p>The default callback:</p>
<blockquote class="last">
<div><dl class="function">
<dt id="buildbot.statistics.capture.CapturePropertyBase.default_callback">
<code class="descname">default_callback</code><span class="sig-paren">(</span><em>props</em>, <em>property_name</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CapturePropertyBase.default_callback" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>It returns property value for <code class="docutils literal"><span class="pre">property_name</span></code>.
It receives the following arguments:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">props</span></code></dt>
<dd>A dictionary of all build properties.</dd>
<dt><code class="docutils literal"><span class="pre">property_name</span></code></dt>
<dd>(str) Name of the build property to return.</dd>
</dl>
</div></blockquote>
</dd>
<dt><code class="docutils literal"><span class="pre">regex=False</span></code></dt>
<dd>If this is set to <code class="docutils literal"><span class="pre">True</span></code>, then the property name can be a regular expression.
All properties matching this regular expression will be sent for storage.</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CapturePropertyBase.consume">
<code class="descname">consume</code><span class="sig-paren">(</span><em>self</em>, <em>routingKey</em>, <em>msg</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CapturePropertyBase.consume" title="Permalink to this definition">¶</a></dt>
<dd><p>The consumer for all CaptureProperty classes described below.
This method filters out the correct properties as per the configuration file and sends those properties for storage.
The subclasses of this method do not need to implement this method as it takes care of all the functionaltiy itself.
See <code class="xref py py-class docutils literal"><span class="pre">Capture</span></code> for more information.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">_builder_name_matches(self, builder_info):</code></dt>
<dd><p>This is an abstract method and needs to be implemented by all subclasses of this class.
This is a helper method to the <code class="docutils literal"><span class="pre">consume</span></code> method metioned above.
It checks whether a builder is allowed to send properties to the storage backend according to the configuration file.
It takes one argument:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">builder_info</span></code></dt>
<dd>(dict) The dictionary returned by the data API containing the builder information.</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureProperty">
<em class="property">class </em><code class="descclassname">buildbot.statistics.capture.</code><code class="descname">CaptureProperty</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>The capture class for capturing build properties.
It is available in the configuration as <code class="docutils literal"><span class="pre">statistics.CaptureProperty</span></code></p>
<p>It takes the following arguments:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">builder_name</span></code></dt>
<dd>(str) The name of builder in which the property is recorded.</dd>
<dt><code class="docutils literal"><span class="pre">property_name</span></code></dt>
<dd>(str) The name of property needed to be recorded as a statistic.</dd>
<dt><code class="docutils literal"><span class="pre">callback=None</span></code></dt>
<dd>The callback function that is used by <code class="docutils literal"><span class="pre">CaptureProperty.consumer</span></code> to post-process data before formatting it and sending it to the appropriate storage backends.
A default callback is provided for this (see <code class="xref py py-class docutils literal"><span class="pre">CapturePropertyBase</span></code> for more information).</dd>
<dt><code class="docutils literal"><span class="pre">regex=False</span></code></dt>
<dd>If this is set to <code class="docutils literal"><span class="pre">True</span></code>, then the property name can be a regular expression.
All properties matching this regular expression will be sent for storage.</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureProperty._builder_name_matches">
<code class="descname">_builder_name_matches</code><span class="sig-paren">(</span><em>self</em>, <em>builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureProperty._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-class docutils literal"><span class="pre">CapturePropertyBase</span></code> for more information on this method.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CapturePropertyAllBuilders">
<em class="property">class </em><code class="descclassname">buildbot.statistics.capture.</code><code class="descname">CapturePropertyAllBuilders</code><a class="headerlink" href="#buildbot.statistics.capture.CapturePropertyAllBuilders" title="Permalink to this definition">¶</a></dt>
<dd><p>The capture class to use for capturing build properties on all builders.
It is available in the configuration as <code class="docutils literal"><span class="pre">statistics.CaptureProperty</span></code></p>
<p>It takes the following arguments:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">property_name</span></code></dt>
<dd>(str) The name of property needed to be recorded as a statistic.</dd>
<dt><code class="docutils literal"><span class="pre">callback=None</span></code></dt>
<dd>The callback function that is used by <code class="docutils literal"><span class="pre">CaptureProperty.consumer</span></code> to post-process data before formatting it and sending it to the appropriate storage backends.
A default callback is provided for this (see <code class="xref py py-class docutils literal"><span class="pre">CapturePropertyBase</span></code> for more information).</dd>
<dt><code class="docutils literal"><span class="pre">regex=False</span></code></dt>
<dd>If this is set to <code class="docutils literal"><span class="pre">True</span></code>, then the property name can be a regular expression.
All properties matching this regular expression will be sent for storage.</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CapturePropertyAllBuilders._builder_name_matches">
<code class="descname">_builder_name_matches</code><span class="sig-paren">(</span><em>self</em>, <em>builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CapturePropertyAllBuilders._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-class docutils literal"><span class="pre">CapturePropertyBase</span></code> for more information on this method.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureBuildTimes">
<em class="property">class </em><code class="descclassname">buildbot.statistics.capture.</code><code class="descname">CaptureBuildTimes</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildTimes" title="Permalink to this definition">¶</a></dt>
<dd><p>A base class for all Capture classes that deal with build times (start/end/duration).
Not to be used directly.
Initialized with:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">builder_name</span></code></dt>
<dd>(str) The name of builder whose times are to be recorded.</dd>
<dt><code class="docutils literal"><span class="pre">callback</span></code></dt>
<dd>The callback function that is used by subclass of this class to post-process data before formatting it and sending it to the appropriate storage backends.
A default callback is provided for this.
Each subclass must provide a deafault callback that is used in initialization of this class should the user not provide a callback.</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildTimes.consume">
<code class="descname">consume</code><span class="sig-paren">(</span><em>self</em>, <em>routingKey</em>, <em>msg</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildTimes.consume" title="Permalink to this definition">¶</a></dt>
<dd><p>The consumer for all subclasses of this class.
See <code class="xref py py-class docutils literal"><span class="pre">Capture</span></code> for more information.
.. note:: This consumer requires all subclasses to implement:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">self._time_type</span></code> (property)</dt>
<dd>A string used as a key in <code class="docutils literal"><span class="pre">post_data</span></code> sent to sotrage services.</dd>
<dt><code class="docutils literal"><span class="pre">self._retValParams(msg)</span></code> (method)</dt>
<dd>A method that takes in the <code class="docutils literal"><span class="pre">msg</span></code> this consumer gets and returns a list of arguments for the capture callback.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildTimes._retValParams">
<code class="descname">_retValParams</code><span class="sig-paren">(</span><em>self</em>, <em>msg</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildTimes._retValParams" title="Permalink to this definition">¶</a></dt>
<dd><p>This is an abstract method which needs to be implemented by subclassses.
This method needs to return a list of parameters that will be passed to the <code class="docutils literal"><span class="pre">callback</span></code> function.
See individual build <code class="docutils literal"><span class="pre">CaptureBuild*</span></code> classes for more information.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildTimes._err_msg">
<code class="descname">_err_msg</code><span class="sig-paren">(</span><em>self</em>, <em>build_data</em>, <em>builder_name</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildTimes._err_msg" title="Permalink to this definition">¶</a></dt>
<dd><p>A helper method that returns an error message for the <code class="docutils literal"><span class="pre">consume</span></code> method.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildTimes._builder_name_matches">
<code class="descname">_builder_name_matches</code><span class="sig-paren">(</span><em>self</em>, <em>builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildTimes._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>This is an abstract method and needs to be implemented by all subclasses of this class.
This is a helper method to the <code class="docutils literal"><span class="pre">consume</span></code> method metioned above.
It checks whether a builder is allowed to send build times to the storage backend according to the configuration file.
It takes one argument:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">builder_info</span></code></dt>
<dd>(dict) The dictionary returned by the data API containing the builder information.</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureBuildStartTime">
<em class="property">class </em><code class="descclassname">buildbot.statistics.capture.</code><code class="descname">CaptureBuildStartTime</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildStartTime" title="Permalink to this definition">¶</a></dt>
<dd><p>A capture class for capturing build start times.
It takes the following arguments:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">builder_name</span></code></dt>
<dd>(str) The name of builder whose times are to be recorded.</dd>
<dt><code class="docutils literal"><span class="pre">callback=None</span></code></dt>
<dd><p class="first">The callback function for this class.
See <code class="xref py py-class docutils literal"><span class="pre">CaptureBuildTimes</span></code> for more information.</p>
<p>The default callback:</p>
<blockquote class="last">
<div><dl class="function">
<dt id="buildbot.statistics.capture.CaptureBuildStartTime.default_callback">
<code class="descname">default_callback</code><span class="sig-paren">(</span><em>start_time</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildStartTime.default_callback" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>It returns the start time in ISO format.
It takes one argument:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">start_time</span></code></dt>
<dd>A python datetime object that denotes the build start time.</dd>
</dl>
</div></blockquote>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildStartTime._retValParams">
<code class="descname">_retValParams</code><span class="sig-paren">(</span><em>self</em>, <em>msg</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildStartTime._retValParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list containing one Python datetime object (start time) from <code class="docutils literal"><span class="pre">msg</span></code> dictionary.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildStartTime._builder_name_matches">
<code class="descname">_builder_name_matches</code><span class="sig-paren">(</span><em>self</em>, <em>builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildStartTime._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-class docutils literal"><span class="pre">CaptureBuildTimes</span></code> for more information on this method.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureBuildStartTimeAllBuilders">
<em class="property">class </em><code class="descclassname">buildbot.statistics.capture.</code><code class="descname">CaptureBuildStartTimeAllBuilders</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildStartTimeAllBuilders" title="Permalink to this definition">¶</a></dt>
<dd><p>A capture class for capturing build start times from all builders.
It is a subclass of <code class="xref py py-class docutils literal"><span class="pre">CaptureBuildStartTime</span></code>.
It takes the following arguments:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">callback=None</span></code></dt>
<dd><p class="first">The callback function for this class.
See <code class="xref py py-class docutils literal"><span class="pre">CaptureBuildTimes</span></code> for more information.</p>
<p>The default callback:</p>
<blockquote class="last">
<div>See <code class="docutils literal"><span class="pre">CaptureBuildStartTime.__init__</span></code> for the definition.</div></blockquote>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildStartTimeAllBuilders._builder_name_matches">
<code class="descname">_builder_name_matches</code><span class="sig-paren">(</span><em>self</em>, <em>builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildStartTimeAllBuilders._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-class docutils literal"><span class="pre">CaptureBuildTimes</span></code> for more information on this method.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureBuildEndTime">
<em class="property">class </em><code class="descclassname">buildbot.statistics.capture.</code><code class="descname">CaptureBuildEndTime</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildEndTime" title="Permalink to this definition">¶</a></dt>
<dd><p>A capture class for capturing build end times.
Takes the following arguments:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">builder_name</span></code></dt>
<dd>(str) The name of builder whose times are to be recorded.</dd>
<dt><code class="docutils literal"><span class="pre">callback=None</span></code></dt>
<dd><p class="first">The callback function for this class.
See <code class="xref py py-class docutils literal"><span class="pre">CaptureBuildTimes</span></code> for more information.</p>
<p>The default callback:</p>
<blockquote class="last">
<div><dl class="function">
<dt id="buildbot.statistics.capture.CaptureBuildEndTime.default_callback">
<code class="descname">default_callback</code><span class="sig-paren">(</span><em>end_time</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildEndTime.default_callback" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>It returns the end time in ISO format.
It takes one argument:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">end_time</span></code></dt>
<dd>A python datetime object that denotes the build end time.</dd>
</dl>
</div></blockquote>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildEndTime._retValParams">
<code class="descname">_retValParams</code><span class="sig-paren">(</span><em>self</em>, <em>msg</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildEndTime._retValParams" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Returns a list containing two Python datetime object (start time and end time) from <code class="docutils literal"><span class="pre">msg</span></code> dictionary.</p>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildEndTime._builder_name_matches">
<code class="descname">_builder_name_matches</code><span class="sig-paren">(</span><em>self</em>, <em>builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildEndTime._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-class docutils literal"><span class="pre">CaptureBuildTimes</span></code> for more information on this method.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureBuildEndTimeAllBuilders">
<em class="property">class </em><code class="descclassname">buildbot.statistics.capture.</code><code class="descname">CaptureBuildEndTimeAllBuilders</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildEndTimeAllBuilders" title="Permalink to this definition">¶</a></dt>
<dd><p>A capture class for capturing build end times from all builders.
It is a subclass of <code class="xref py py-class docutils literal"><span class="pre">CaptureBuildEndTime</span></code>.
It takes the following arguments:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">callback=None</span></code></dt>
<dd><p class="first">The callback function for this class.
See <code class="xref py py-class docutils literal"><span class="pre">CaptureBuildTimes</span></code> for more information.</p>
<p>The default callback:</p>
<blockquote class="last">
<div>See <code class="docutils literal"><span class="pre">CaptureBuildEndTime.__init__</span></code> for the definition.</div></blockquote>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildEndTimeAllBuilders._builder_name_matches">
<code class="descname">_builder_name_matches</code><span class="sig-paren">(</span><em>self</em>, <em>builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildEndTimeAllBuilders._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-class docutils literal"><span class="pre">CaptureBuildTimes</span></code> for more information on this method.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureBuildDuration">
<em class="property">class </em><code class="descclassname">buildbot.statistics.capture.</code><code class="descname">CaptureBuildDuration</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildDuration" title="Permalink to this definition">¶</a></dt>
<dd><p>A capture class for capturing build duration.
Takes the following arguments:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">builder_name</span></code></dt>
<dd>(str) The name of builder whose times are to be recorded.</dd>
<dt><code class="docutils literal"><span class="pre">report_in='seconds'</span></code></dt>
<dd>Can be one of three: <code class="docutils literal"><span class="pre">'seconds'</span></code>, <code class="docutils literal"><span class="pre">'minutes'</span></code>, or <code class="docutils literal"><span class="pre">'hours'</span></code>.
This is the units in which the build time will be reported.</dd>
<dt><code class="docutils literal"><span class="pre">callback=None</span></code></dt>
<dd><p class="first">The callback function for this class.
See <code class="xref py py-class docutils literal"><span class="pre">CaptureBuildTimes</span></code> for more information.</p>
<p>The default callback:</p>
<blockquote class="last">
<div><dl class="function">
<dt id="buildbot.statistics.capture.CaptureBuildDuration.default_callback">
<code class="descname">default_callback</code><span class="sig-paren">(</span><em>start_time</em>, <em>end_time</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildDuration.default_callback" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>It returns the duration of the build as per the <code class="docutils literal"><span class="pre">report_in</span></code> argument.
It receives the following arguments:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">start_time</span></code></dt>
<dd>A python datetime object that denotes the build start time.</dd>
<dt><code class="docutils literal"><span class="pre">end_time</span></code></dt>
<dd>A python datetime object that denotes the build end time.</dd>
</dl>
</div></blockquote>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildDuration._retValParams">
<code class="descname">_retValParams</code><span class="sig-paren">(</span><em>self</em>, <em>msg</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildDuration._retValParams" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Returns a list containing one Python datetime object (end time) from <code class="docutils literal"><span class="pre">msg</span></code> dictionary.</p>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildDuration._builder_name_matches">
<code class="descname">_builder_name_matches</code><span class="sig-paren">(</span><em>self</em>, <em>builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildDuration._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-class docutils literal"><span class="pre">CaptureBuildTimes</span></code> for more information on this method.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureBuildDurationAllBuilders">
<em class="property">class </em><code class="descclassname">buildbot.statistics.capture.</code><code class="descname">CaptureBuildDurationAllBuilders</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildDurationAllBuilders" title="Permalink to this definition">¶</a></dt>
<dd><p>A capture class for capturing build durations from all builders.
It is a subclass of <code class="xref py py-class docutils literal"><span class="pre">CaptureBuildDuration</span></code>.
It takes the following arguments:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">callback=None</span></code></dt>
<dd><p class="first">The callback function for this class.
See <code class="xref py py-class docutils literal"><span class="pre">CaptureBuildTimes</span></code> for more.</p>
<p>The default callback:</p>
<blockquote class="last">
<div>See <code class="docutils literal"><span class="pre">CaptureBuildDuration.__init__</span></code> for the definition.</div></blockquote>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureBuildDurationAllBuilders._builder_name_matches">
<code class="descname">_builder_name_matches</code><span class="sig-paren">(</span><em>self</em>, <em>builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureBuildDurationAllBuilders._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-class docutils literal"><span class="pre">CaptureBuildTimes</span></code> for more information on this method.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureDataBase">
<em class="property">class </em><code class="descclassname">buildbot.statistics.capture.</code><code class="descname">CaptureDataBase</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureDataBase" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a base class for both <code class="xref py py-class docutils literal"><span class="pre">CaptureData</span></code> and <code class="xref py py-class docutils literal"><span class="pre">CaptureDataAllBuilders</span></code> and abstracts away much of the common functionaltiy between the two classes.
Cannot be initialzed directly as it contains an abstract method and raises <code class="docutils literal"><span class="pre">TypeError</span></code> if tried.
It is initialized with the following arguments:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">data_name</span></code></dt>
<dd>(str) The name of data to be captured.
Same as in <code class="xref py py-meth docutils literal"><span class="pre">yieldMetricsValue</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">callback=None</span></code></dt>
<dd><p class="first">The callback function for this class.</p>
<p>The default callback:</p>
<blockquote class="last">
<div>The default callback takes a value <code class="docutils literal"><span class="pre">x</span></code> and return it without changing.
As such, <code class="docutils literal"><span class="pre">x</span></code> itself acts as the <code class="docutils literal"><span class="pre">post_data</span></code> sent to the storage backends.</div></blockquote>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureDataBase.consume">
<code class="descname">consume</code><span class="sig-paren">(</span><em>self</em>, <em>routingKey</em>, <em>msg</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureDataBase.consume" title="Permalink to this definition">¶</a></dt>
<dd><p>The consumer for this class.
See <code class="xref py py-class docutils literal"><span class="pre">Capture</span></code> for more.</p>
</dd></dl>

<dl class="method">
<dt id="buildbot.statistics.capture.CaptureDataBase._builder_name_matches">
<code class="descname">_builder_name_matches</code><span class="sig-paren">(</span><em>self</em>, <em>builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureDataBase._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>This is an abstract method and needs to be implemented by all subclasses of this class.
This is a helper method to the <code class="docutils literal"><span class="pre">consume</span></code> method metioned above.
It checks whether a builder is allowed to send properties to the storage backend according to the configuration file.
It takes one argument:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">builder_info</span></code></dt>
<dd>(dict) The dictionary returned by the data API containing the builder information.</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureData">
<em class="property">class </em><code class="descclassname">buildbot.statistics.capture.</code><code class="descname">CaptureData</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureData" title="Permalink to this definition">¶</a></dt>
<dd><p>A capture class for capturing arbitrary data that is not stored as build-data.
See <code class="xref py py-meth docutils literal"><span class="pre">yieldMetricsValue</span></code> for more.
Takes the following arguments for initliazation:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">data_name</span></code></dt>
<dd>(str) The name of data to be captured.
Same as in <code class="xref py py-meth docutils literal"><span class="pre">yieldMetricsValue</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">builder_name</span></code></dt>
<dd>(str) The name of the builder on which the data is captured.</dd>
<dt><code class="docutils literal"><span class="pre">callback=None</span></code></dt>
<dd><p class="first">The callback function for this class.</p>
<p>The default callback:</p>
<blockquote class="last">
<div>See <code class="xref py py-class docutils literal"><span class="pre">CaptureDataBase</span></code> of definition.</div></blockquote>
</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureData._builder_name_matches">
<code class="descname">_builder_name_matches</code><span class="sig-paren">(</span><em>self</em>, <em>builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureData._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-class docutils literal"><span class="pre">CaptureDataBase</span></code> for more information on this method.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="buildbot.statistics.capture.CaptureDataAllBuilders">
<em class="property">class </em><code class="descclassname">buildbot.statistics.capture.</code><code class="descname">CaptureDataAllBuilders</code><a class="headerlink" href="#buildbot.statistics.capture.CaptureDataAllBuilders" title="Permalink to this definition">¶</a></dt>
<dd><p>A capture class to capture arbitrary data on all builders.
See <code class="xref py py-meth docutils literal"><span class="pre">yieldMetricsValue</span></code> for more.
It takes the following arguments:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">data_name</span></code></dt>
<dd>(str) The name of data to be captured.
Same as in <code class="xref py py-meth docutils literal"><span class="pre">yieldMetricsValue</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">callback=None</span></code></dt>
<dd>The callback function for this class.</dd>
</dl>
<dl class="method">
<dt id="buildbot.statistics.capture.CaptureDataAllBuilders._builder_name_matches">
<code class="descname">_builder_name_matches</code><span class="sig-paren">(</span><em>self</em>, <em>builder_info</em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.statistics.capture.CaptureDataAllBuilders._builder_name_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-class docutils literal"><span class="pre">CaptureDataBase</span></code> for more information on this method.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/header-text-transparent.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Table Of Contents</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">1. Buildbot Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/index.html">2. Buildbot Manual</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">3. Buildbot Development</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="general.html">3.1. General Documents</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="master-overview.html">3.1.1. Master Organization</a></li>
<li class="toctree-l3"><a class="reference internal" href="definitions.html">3.1.2. Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="style.html">3.1.3. Buildbot Coding Style</a></li>
<li class="toctree-l3"><a class="reference internal" href="coffeescript-style.html">3.1.4. CoffeeScript Coding Style</a></li>
<li class="toctree-l3"><a class="reference internal" href="tests.html">3.1.5. Buildbot’s Test Suite</a></li>
<li class="toctree-l3"><a class="reference internal" href="config.html">3.1.6. Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="config.html#configuration-in-angularjs">3.1.7. Configuration in AngularJS</a></li>
<li class="toctree-l3"><a class="reference internal" href="schedulers.html">3.1.8. Writing Schedulers</a></li>
<li class="toctree-l3"><a class="reference internal" href="utils.html">3.1.9. Utilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="results.html">3.1.10. Build Result Codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="www-server.html">3.1.11. WWW Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="www-data-module.html">3.1.12. Javascript Data Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="www-base-app.html">3.1.13. Base web application</a></li>
<li class="toctree-l3"><a class="reference internal" href="www-md_base-app.html">3.1.14. Material design Base application</a></li>
<li class="toctree-l3"><a class="reference internal" href="auth.html">3.1.15. Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="authz.html">3.1.16. Authorization</a></li>
<li class="toctree-l3"><a class="reference internal" href="master-worker.html">3.1.17. Master-Worker API</a></li>
<li class="toctree-l3"><a class="reference internal" href="br-claiming.html">3.1.18. Claiming Build Requests</a></li>
<li class="toctree-l3"><a class="reference internal" href="encodings.html">3.1.19. String Encodings</a></li>
<li class="toctree-l3"><a class="reference internal" href="metrics.html">3.1.20. Metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="secrets.html">3.1.21. Secrets</a></li>
<li class="toctree-l3"><a class="reference internal" href="secrets.html#secrets-manager">3.1.22. Secrets manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="secrets.html#secrets-providers">3.1.23. Secrets providers</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">3.1.24. Statistics Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugins-publish.html">3.1.25. How to package Buildbot plugins</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="apis.html">3.2. APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="py3-compat.html">3.3. Python3 compatibility</a></li>
<li class="toctree-l2"><a class="reference internal" href="classes.html">3.4. Classes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../relnotes/index.html">4. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../relnotes/index.html#older-release-notes">5. Older Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../indices.html">6. Indices and Tables</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="secrets.html"
                        title="previous chapter">3.1.21. Secrets</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="plugins-publish.html"
                        title="next chapter">3.1.25. How to package Buildbot plugins</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/developer/stats-service.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>