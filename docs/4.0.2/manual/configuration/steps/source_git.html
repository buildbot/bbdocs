<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2.5.12.9. Git &mdash; Buildbot 4.0.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=d10597a4" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../_static/buildbot_rtd.css?v=915d5e18" />

  
    <link rel="shortcut icon" href="../../../_static/icon.png"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=a084f797"></script>
        <script src="../../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="2.5.12.10. Mercurial" href="source_mercurial.html" />
    <link rel="prev" title="2.5.12.8. GitLab" href="source_gitlab.html" /> 
<!-- GA-TRACKING-START -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try{
var pageTracker = _gat._getTracker("UA-12313843-4");
pageTracker._setDomainName("none");
pageTracker._setAllowLinker(true);
pageTracker._trackPageview();
} catch(err) {}
</script>
<!-- GA-TRACKING-END -->
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Buildbot
              <img src="../../../_static/full_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                4.0.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/index.html">1. Buildbot Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">2. Buildbot Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../introduction.html">2.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation/index.html">2.2. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts.html">2.3. Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../secretsmanagement.html">2.4. Secret Management</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">2.5. Configuration</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../intro.html">2.5.1. Configuring Buildbot</a></li>
<li class="toctree-l3"><a class="reference internal" href="../global.html">2.5.2. Global Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changesources.html">2.5.3. Change Sources and Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changesources.html#changes">2.5.4. Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../schedulers.html">2.5.5. Schedulers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../workers.html">2.5.6. Workers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../builders.html">2.5.7. Builder Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../projects.html">2.5.8. Projects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../buildfactories.html">2.5.9. Build Factories</a></li>
<li class="toctree-l3"><a class="reference internal" href="../buildsets.html">2.5.10. Build Sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../properties.html">2.5.11. Properties</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">2.5.12. Build Steps</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="common.html">2.5.12.1. Parameters Common to all Steps</a></li>
<li class="toctree-l4"><a class="reference internal" href="source_common.html">2.5.12.2. Common Parameters of source checkout operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="source_bzr.html">2.5.12.3. Bzr</a></li>
<li class="toctree-l4"><a class="reference internal" href="source_cvs.html">2.5.12.4. CVS</a></li>
<li class="toctree-l4"><a class="reference internal" href="source_darcs.html">2.5.12.5. Darcs</a></li>
<li class="toctree-l4"><a class="reference internal" href="source_gerrit.html">2.5.12.6. Gerrit</a></li>
<li class="toctree-l4"><a class="reference internal" href="source_github.html">2.5.12.7. GitHub</a></li>
<li class="toctree-l4"><a class="reference internal" href="source_gitlab.html">2.5.12.8. GitLab</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">2.5.12.9. Git</a></li>
<li class="toctree-l4"><a class="reference internal" href="source_mercurial.html">2.5.12.10. Mercurial</a></li>
<li class="toctree-l4"><a class="reference internal" href="source_monotone.html">2.5.12.11. Monotone</a></li>
<li class="toctree-l4"><a class="reference internal" href="source_p4.html">2.5.12.12. P4</a></li>
<li class="toctree-l4"><a class="reference internal" href="source_repo.html">2.5.12.13. Repo</a></li>
<li class="toctree-l4"><a class="reference internal" href="source_svn.html">2.5.12.14. SVN</a></li>
<li class="toctree-l4"><a class="reference internal" href="gitcommit.html">2.5.12.15. GitCommit</a></li>
<li class="toctree-l4"><a class="reference internal" href="gittag.html">2.5.12.16. GitTag</a></li>
<li class="toctree-l4"><a class="reference internal" href="gitpush.html">2.5.12.17. GitPush</a></li>
<li class="toctree-l4"><a class="reference internal" href="git_diffinfo.html">2.5.12.18. GitDiffInfo</a></li>
<li class="toctree-l4"><a class="reference internal" href="shell_command.html">2.5.12.19. ShellCommand</a></li>
<li class="toctree-l4"><a class="reference internal" href="shell_sequence.html">2.5.12.20. Shell Sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="compile.html">2.5.12.21. Compile</a></li>
<li class="toctree-l4"><a class="reference internal" href="configure.html">2.5.12.22. Configure</a></li>
<li class="toctree-l4"><a class="reference internal" href="cmake.html">2.5.12.23. CMake</a></li>
<li class="toctree-l4"><a class="reference internal" href="visual_cxx.html">2.5.12.24. Visual C++</a></li>
<li class="toctree-l4"><a class="reference internal" href="cppcheck.html">2.5.12.25. Cppcheck</a></li>
<li class="toctree-l4"><a class="reference internal" href="robocopy.html">2.5.12.26. Robocopy</a></li>
<li class="toctree-l4"><a class="reference internal" href="test.html">2.5.12.27. Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="treesize.html">2.5.12.28. TreeSize</a></li>
<li class="toctree-l4"><a class="reference internal" href="perl_module_test.html">2.5.12.29. PerlModuleTest</a></li>
<li class="toctree-l4"><a class="reference internal" href="subunit_shell_command.html">2.5.12.30. SubunitShellCommand</a></li>
<li class="toctree-l4"><a class="reference internal" href="hlint.html">2.5.12.31. HLint</a></li>
<li class="toctree-l4"><a class="reference internal" href="maxq.html">2.5.12.32. MaxQ</a></li>
<li class="toctree-l4"><a class="reference internal" href="trigger.html">2.5.12.33. Trigger</a></li>
<li class="toctree-l4"><a class="reference internal" href="build_epydoc.html">2.5.12.34. BuildEPYDoc</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyflakes.html">2.5.12.35. PyFlakes</a></li>
<li class="toctree-l4"><a class="reference internal" href="sphinx.html">2.5.12.36. Sphinx</a></li>
<li class="toctree-l4"><a class="reference internal" href="pylint.html">2.5.12.37. PyLint</a></li>
<li class="toctree-l4"><a class="reference internal" href="trial.html">2.5.12.38. Trial</a></li>
<li class="toctree-l4"><a class="reference internal" href="remove_pycs.html">2.5.12.39. RemovePYCs</a></li>
<li class="toctree-l4"><a class="reference internal" href="http_step.html">2.5.12.40. HTTP Requests</a></li>
<li class="toctree-l4"><a class="reference internal" href="worker_filesystem.html">2.5.12.41. Worker Filesystem Steps</a></li>
<li class="toctree-l4"><a class="reference internal" href="file_transfer.html">2.5.12.42. Transferring Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="file_transfer.html#transferring-strings">2.5.12.43. Transferring Strings</a></li>
<li class="toctree-l4"><a class="reference internal" href="master_shell_command.html">2.5.12.44. MasterShellCommand</a></li>
<li class="toctree-l4"><a class="reference internal" href="log_renderable.html">2.5.12.45. LogRenderable</a></li>
<li class="toctree-l4"><a class="reference internal" href="assert.html">2.5.12.46. Assert</a></li>
<li class="toctree-l4"><a class="reference internal" href="set_property.html">2.5.12.47. SetProperty</a></li>
<li class="toctree-l4"><a class="reference internal" href="set_properties.html">2.5.12.48. SetProperties</a></li>
<li class="toctree-l4"><a class="reference internal" href="set_property_from_command.html">2.5.12.49. SetPropertyFromCommand</a></li>
<li class="toctree-l4"><a class="reference internal" href="set_properties_from_env.html"><code class="docutils literal notranslate"><span class="pre">buildbot.steps.worker.SetPropertiesFromEnv</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="set_properties_from_env.html#setpropertiesfromenv">2.5.12.50. SetPropertiesFromEnv</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm_build.html">2.5.12.51. RpmBuild</a></li>
<li class="toctree-l4"><a class="reference internal" href="rpm_lint.html">2.5.12.52. RpmLint</a></li>
<li class="toctree-l4"><a class="reference internal" href="mock_build_srpm.html">2.5.12.53. MockBuildSRPM Step</a></li>
<li class="toctree-l4"><a class="reference internal" href="mock_rebuild.html">2.5.12.54. MockRebuild</a></li>
<li class="toctree-l4"><a class="reference internal" href="deb_pbuilder.html">2.5.12.55. DebPbuilder</a></li>
<li class="toctree-l4"><a class="reference internal" href="deb_pbuilder.html#debcowbuilder">2.5.12.56. DebCowbuilder</a></li>
<li class="toctree-l4"><a class="reference internal" href="deb_lintian.html">2.5.12.57. DebLintian</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#id2">2.5.12.58. Build steps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../interlocks.html">2.5.13. Interlocks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../report_generators/index.html">2.5.14. Report Generators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reporters/index.html">2.5.15. Reporters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../www.html">2.5.16. Web Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../wwwhooks.html">2.5.17. Change Hooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/index.html">2.5.18. Custom Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dbconfig.html">2.5.19. DbConfig</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configurators.html">2.5.20. Configurators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manhole.html">2.5.21. Manhole</a></li>
<li class="toctree-l3"><a class="reference internal" href="../multimaster.html">2.5.22. Multimaster</a></li>
<li class="toctree-l3"><a class="reference internal" href="../multicodebase.html">2.5.23. Multiple-Codebase Builds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../misc/index.html">2.5.24. Miscellaneous Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tests/index.html">2.5.25. Testing Utilities</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../customization.html">2.6. Customization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cmdline.html">2.7. Command-line Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources.html">2.8. Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../optimization.html">2.9. Optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins.html">2.10. Plugin Infrastructure in Buildbot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../deploy.html">2.11. Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../upgrading/index.html">2.12. Upgrading</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../developer/index.html">3. Buildbot Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../relnotes/index.html">4. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../relnotes/index.html#older-release-notes">5. Older Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../indices.html">6. API Indices</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Buildbot</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html"><span class="section-number">2. </span>Buildbot Manual</a></li>
          <li class="breadcrumb-item"><a href="../index.html"><span class="section-number">2.5. </span>Configuration</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">2.5.12. </span>Build Steps</a></li>
      <li class="breadcrumb-item active"><span class="section-number">2.5.12.9. </span>Git</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/manual/configuration/steps/source_git.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="git">
<span id="step-git"></span><span id="step-Git"></span><h1><span class="section-number">2.5.12.9. </span>Git<a class="headerlink" href="#git" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="buildbot.steps.source.git.Git">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">buildbot.steps.source.git.</span></span><span class="sig-name descname"><span class="pre">Git</span></span><a class="headerlink" href="#buildbot.steps.source.git.Git" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>The <a class="reference internal" href="#step-Git" title="Git"><code class="xref bb bb-step docutils literal notranslate"><span class="pre">Git</span></code></a> build step clones or updates a <a class="reference external" href="http://git.or.cz/">Git</a> repository and checks out the specified branch or revision.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Buildbot supports Git version 1.2.0 or later.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">buildbot.plugins</span> <span class="kn">import</span> <span class="n">steps</span>

<span class="n">factory</span><span class="o">.</span><span class="n">addStep</span><span class="p">(</span><span class="n">steps</span><span class="o">.</span><span class="n">Git</span><span class="p">(</span><span class="n">repourl</span><span class="o">=</span><span class="s1">&#39;git://path/to/repo&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;full&#39;</span><span class="p">,</span>
                          <span class="n">method</span><span class="o">=</span><span class="s1">&#39;clobber&#39;</span><span class="p">,</span> <span class="n">submodules</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
<p>The Git step takes the following arguments:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">repourl</span></code> (required)</dt><dd><p>The URL of the upstream Git repository.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">branch</span></code> (optional)</dt><dd><p>This specifies the name of the branch or the tag to use when a Build does not provide one of its own.
If this parameter is not specified, and the Build does not provide a branch, the default branch of the remote repository will be used.
If <code class="docutils literal notranslate"><span class="pre">alwaysUseLatest</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> then the branch and revision information that comes with the Build is ignored and the branch specified in this parameter is used.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">submodules</span></code> (optional, default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</dt><dd><p>When initializing/updating a Git repository, this tells Buildbot whether to handle Git submodules.
If <code class="docutils literal notranslate"><span class="pre">remoteSubmodules</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, then this tells Buildbot to use remote submodules: <a class="reference external" href="https://git-scm.com/docs/git-submodule#Documentation/git-submodule.txt---remote">Git Remote Submodules</a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tags</span></code> (optional, default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</dt><dd><p>Download tags in addition to the requested revision when updating repository.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">shallow</span></code> (optional)</dt><dd><p>Instructs Git to attempt shallow clones (<code class="docutils literal notranslate"><span class="pre">--depth</span> <span class="pre">1</span></code>).
The depth defaults to 1 and can be changed by passing an integer instead of <code class="docutils literal notranslate"><span class="pre">True</span></code>.
This option can be used only in incremental builds, or full builds with clobber method.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reference</span></code> (optional)</dt><dd><p>Use the specified string as a path to a reference repository on the local machine.
Git will try to grab objects from this path first instead of the main repository, if they exist.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">origin</span></code> (optional)</dt><dd><p>By default, any clone will use the name “origin” as the remote repository (eg, “origin/master”).
This renderable option allows that to be configured to an alternate name.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">filters</span></code> (optional, type: <code class="docutils literal notranslate"><span class="pre">list</span></code>)</dt><dd><p>For each string in the passed in list, adds a <code class="docutils literal notranslate"><span class="pre">--filter</span> <span class="pre">&lt;filter&gt;</span></code> argument to <strong class="command">git clone</strong>.
This allows for adding filters like <code class="docutils literal notranslate"><span class="pre">--filter</span> <span class="pre">&quot;tree:0&quot;</span></code> to speed up the clone step.
This requires git version 2.27 or higher.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">progress</span></code> (optional)</dt><dd><p>Passes the (<code class="docutils literal notranslate"><span class="pre">--progress</span></code>) flag to (<strong class="command">git fetch</strong>).
This solves issues of long fetches being killed due to lack of output, but requires Git 1.7.2 or later.
Its value is True on Git 1.7.2 or later.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">retryFetch</span></code> (optional, default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</dt><dd><p>If true, if the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span></code> fails, then Buildbot retries to fetch again instead of failing the entire source checkout.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">clobberOnFailure</span></code> (optional, default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</dt><dd><p>If a fetch or full clone fails, we can retry to checkout the source by removing everything and cloning the repository.
If the retry fails, it fails the source checkout step.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mode</span></code> (optional, default: <code class="docutils literal notranslate"><span class="pre">'incremental'</span></code>)</dt><dd><p>Specifies whether to clean the build tree or not.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">incremental</span></code></dt><dd><p>The source is update, but any built files are left untouched.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">full</span></code></dt><dd><p>The build tree is clean of any built files.
The exact method for doing this is controlled by the <code class="docutils literal notranslate"><span class="pre">method</span></code> argument.</p>
</dd>
</dl>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">method</span></code> (optional, default: <code class="docutils literal notranslate"><span class="pre">fresh</span></code> when mode is <code class="docutils literal notranslate"><span class="pre">full</span></code>)</dt><dd><p>Git’s incremental mode does not require a method.
The full mode has four methods defined:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">clobber</span></code></dt><dd><p>It removes the build directory entirely then makes full clone from repo.
This can be slow as it need to clone whole repository.
To make faster clones enable the <code class="docutils literal notranslate"><span class="pre">shallow</span></code> option.
If the shallow option is enabled and the build request has unknown revision value, then this step fails.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fresh</span></code></dt><dd><p>This removes all other files except those tracked by Git.
First it does <strong class="command">git clean -d -f -f -x</strong>, then fetch/checkout to a specified revision (if any).
This option is equal to update mode with <code class="docutils literal notranslate"><span class="pre">ignore_ignores=True</span></code> in old steps.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">clean</span></code></dt><dd><p>All the files which are tracked by Git, as well as listed ignore files, are not deleted.
All other remaining files will be deleted before the fetch/checkout.
This is equivalent to <strong class="command">git clean -d -f -f</strong> then fetch.
This is equivalent to <code class="docutils literal notranslate"><span class="pre">ignore_ignores=False</span></code> in old steps.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">copy</span></code></dt><dd><p>This first checks out source into source directory, then copies the <code class="docutils literal notranslate"><span class="pre">source</span></code> directory to <code class="docutils literal notranslate"><span class="pre">build</span></code> directory, and then performs the build operation in the copied directory.
This way, we make fresh builds with very little bandwidth to download source.
The behavior of source checkout follows exactly the same as incremental.
It performs all the incremental checkout behavior in <code class="docutils literal notranslate"><span class="pre">source</span></code> directory.</p>
</dd>
</dl>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">getDescription</span></code> (optional)</dt><dd><p>After checkout, invoke a <cite>git describe</cite> on the revision and save the result in a property; the property’s name is either <code class="docutils literal notranslate"><span class="pre">commit-description</span></code> or <code class="docutils literal notranslate"><span class="pre">commit-description-foo</span></code>, depending on whether the <code class="docutils literal notranslate"><span class="pre">codebase</span></code> argument was also provided.
The argument should either be a <code class="docutils literal notranslate"><span class="pre">bool</span></code> or <code class="docutils literal notranslate"><span class="pre">dict</span></code>, and will change how <cite>git describe</cite> is called:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">getDescription=False</span></code>: disables this feature explicitly</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">getDescription=True</span></code> or empty <code class="docutils literal notranslate"><span class="pre">{}</span></code>: runs <cite>git describe</cite> with no args</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">getDescription={...}</span></code>: a dict with keys named the same as the Git option.
Each key’s value can be <code class="docutils literal notranslate"><span class="pre">False</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code> to explicitly skip that argument.</p>
<p>For the following keys, a value of <code class="docutils literal notranslate"><span class="pre">True</span></code> appends the same-named Git argument:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">all</span></code> : <cite>–all</cite></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">always</span></code>: <cite>–always</cite></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">contains</span></code>: <cite>–contains</cite></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">debug</span></code>: <cite>–debug</cite></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">long</span></code>: <cite>–long`</cite></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">exact-match</span></code>: <cite>–exact-match</cite></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tags</span></code>: <cite>–tags</cite></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dirty</span></code>: <cite>–dirty</cite></p></li>
</ul>
</div></blockquote>
<p>For the following keys, an integer or string value (depending on what Git expects) will set the argument’s parameter appropriately.
Examples show the key-value pair:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">match=foo</span></code>: <cite>–match foo</cite></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">abbrev=7</span></code>: <cite>–abbrev=7</cite></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">candidates=7</span></code>: <cite>–candidates=7</cite></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dirty=foo</span></code>: <cite>–dirty=foo</cite></p></li>
</ul>
</div></blockquote>
</li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code> (optional)</dt><dd><p>A dict of Git configuration settings to pass to the remote Git commands.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sshPrivateKey</span></code> (optional)</dt><dd><p>The private key to use when running Git for fetch operations.
The ssh utility must be in the system path in order to use this option.
On Windows, only Git distribution that embeds MINGW has been tested (as of July 2017, the official distribution is MINGW-based).
The worker must either have the host in the known hosts file or the host key must be specified via the <cite>sshHostKey</cite> option.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sshHostKey</span></code> (optional)</dt><dd><p>Specifies public host key to match when authenticating with SSH public key authentication.
This may be either a <a class="reference internal" href="../../secretsmanagement.html#secret"><span class="std std-ref">Secret</span></a> or just a string.
<cite>sshPrivateKey</cite> must be specified in order to use this option.
The host key must be in the form of <cite>&lt;key type&gt; &lt;base64-encoded string&gt;</cite>, e.g. <cite>ssh-rsa AAAAB3N&lt;…&gt;FAaQ==</cite>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sshKnownHosts</span></code> (optional)</dt><dd><p>Specifies the contents of the SSH known_hosts file to match when authenticating with SSH public key authentication.
This may be either a <a class="reference internal" href="../../secretsmanagement.html#secret"><span class="std std-ref">Secret</span></a> or just a string.
<cite>sshPrivateKey</cite> must be specified in order to use this option.
<cite>sshHostKey</cite> must not be specified in order to use this option.</p>
</dd>
</dl>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="source_gitlab.html" class="btn btn-neutral float-left" title="2.5.12.8. GitLab" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="source_mercurial.html" class="btn btn-neutral float-right" title="2.5.12.10. Mercurial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Buildbot Team Members.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>