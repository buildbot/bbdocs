

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2.3. Concepts &mdash; Buildbot 4.3.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d10597a4" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/buildbot_rtd.css?v=915d5e18" />

  
    <link rel="shortcut icon" href="../_static/icon.png"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=a17b270f"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2.4. Secret Management" href="secretsmanagement.html" />
    <link rel="prev" title="2.2.6. Next Steps" href="installation/misc.html" /> 
<!-- GA-TRACKING-START -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try{
var pageTracker = _gat._getTracker("UA-12313843-4");
pageTracker._setDomainName("none");
pageTracker._setAllowLinker(true);
pageTracker._trackPageview();
} catch(err) {}
</script>
<!-- GA-TRACKING-END -->
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Buildbot
              <img src="../_static/full_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">1. Buildbot Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">2. Buildbot Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">2.1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation/index.html">2.2. Installation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">2.3. Concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#source-identification">2.3.1. Source identification</a></li>
<li class="toctree-l3"><a class="reference internal" href="#change-sources">2.3.2. Change sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changes">2.3.3. Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#schedulers">2.3.4. Schedulers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#buildrequests">2.3.5. BuildRequests</a></li>
<li class="toctree-l3"><a class="reference internal" href="#builders-and-build-factories">2.3.6. Builders and Build Factories</a></li>
<li class="toctree-l3"><a class="reference internal" href="#builds">2.3.7. Builds</a></li>
<li class="toctree-l3"><a class="reference internal" href="#buildsets">2.3.8. BuildSets</a></li>
<li class="toctree-l3"><a class="reference internal" href="#workers">2.3.9. Workers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#users">2.3.10. Users</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#user-objects">2.3.10.1. User Objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="#doing-things-with-users">2.3.10.2. Doing Things With Users</a></li>
<li class="toctree-l4"><a class="reference internal" href="#email-addresses">2.3.10.3. Email Addresses</a></li>
<li class="toctree-l4"><a class="reference internal" href="#irc-nicknames">2.3.10.4. IRC Nicknames</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#build-properties">2.3.11. Build Properties</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="secretsmanagement.html">2.4. Secret Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration/index.html">2.5. Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization/index.html">2.6. Customization</a></li>
<li class="toctree-l2"><a class="reference internal" href="cmdline.html">2.7. Command-line Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="resources.html">2.8. Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="optimization.html">2.9. Optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugins.html">2.10. Plugin Infrastructure in Buildbot</a></li>
<li class="toctree-l2"><a class="reference internal" href="deploy.html">2.11. Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading/index.html">2.12. Upgrading</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">3. Buildbot Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../relnotes/index.html">4. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../relnotes/index.html#older-release-notes">5. Older Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../indices.html">6. API Indices</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Buildbot</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">2. </span>Buildbot Manual</a></li>
      <li class="breadcrumb-item active"><span class="section-number">2.3. </span>Concepts</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/manual/concepts.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="concepts">
<span id="id1"></span><h1><span class="section-number">2.3. </span>Concepts<a class="headerlink" href="#concepts" title="Link to this heading"></a></h1>
<p>This chapter defines some of the basic concepts that Buildbot uses.
You’ll need to understand how Buildbot sees the world to configure it properly.</p>
<section id="source-identification">
<span id="concepts-project"></span><span id="source-stamps"></span><h2><span class="section-number">2.3.1. </span>Source identification<a class="headerlink" href="#source-identification" title="Link to this heading"></a></h2>
<p>The following concepts are used within Buildbot to describe source code that is being built:</p>
<dl class="simple">
<dt>Repository</dt><dd><p>A repository is a location where files tracked by a version control system reside.
Usually, it is identified by a URL or a location on a disk.
It contains a subset of the history of a codebase.</p>
</dd>
<dt>Codebase</dt><dd><p>A codebase is a collection of related files and their history tracked as a unit by version
control systems. The files and their history are stored in one or more repositories. For
example, the primary repository for the Buildbot codebase is at
<code class="docutils literal notranslate"><span class="pre">https://github.com/buildbot/buildbot/</span></code>. There are also more than a thousand forks of
Buildbot. These repositories, while storing potentially very old versions of Buildbot code,
still contain the same codebase.</p>
</dd>
<dt>Project</dt><dd><p>A project is a set of one or more codebases that together may be built and produce some end
artifact. For example, an application may be comprised of two codebases - one for the code and
one for the test data, the latter of which occupies a lot of space. Building and testing such
an application requires acquiring code from both codebases.</p>
</dd>
<dt>Revision:</dt><dd><p>A revision is an textual identifier used by most version control systems to uniquely specify a
particular version of the source code in a particular codebase.</p>
</dd>
<dt>Source stamp:</dt><dd><p>A source stamp is a collection of information needed to identify a particular version of code
on a certain codebase. In most version control systems, source stamps only store a revision. On
other version control systems, a branch is also required.</p>
</dd>
<dt>Source stamp set:</dt><dd><p>A source stamp set is a set of source stamps to identify a particular version of code on a
certain project. Like a project is a collection of codebases, a source stamp set is a
collection of source stamps, one for each codebase within a project.</p>
</dd>
</dl>
<p>In order to build a project, Buildbot only needs to know a source stamp set corresponding to that project.
This source stamp set has a source stamp for each codebase comprising the project.
In turn, each source stamp has enough information to identify a particular version of the code within the codebase.</p>
<img alt="Source Stamp Sets" src="../_images/changes.svg" />
</section>
<section id="change-sources">
<span id="concepts-change-source"></span><h2><span class="section-number">2.3.2. </span>Change sources<a class="headerlink" href="#change-sources" title="Link to this heading"></a></h2>
<p>Change sources are user-configurable components that interact with external version control systems
and retrieve new code. Internally, new code is represented as <a class="reference internal" href="#concept-change"><span class="std std-ref">Changes</span></a> which
roughly correspond to a single commit or changeset. The changes are sent to the schedulers which
then decide whether new builds should be created for these new code changes.</p>
<p>The design of Buildbot requires the workers to have their own copies of the source code, thus
change sources is an optional component as long as there are no schedulers that create new builds
based on new code commit events.</p>
</section>
<section id="changes">
<span id="concept-change"></span><h2><span class="section-number">2.3.3. </span>Changes<a class="headerlink" href="#changes" title="Link to this heading"></a></h2>
<p>A <a class="reference internal" href="configuration/changesources.html#change-attrs"><span class="std std-ref">Change</span></a> is an abstract way Buildbot uses to represent a single change to the
source files, performed by a developer. In version control systems that support the notion of
atomic check-ins, a change represents a changeset or commit.</p>
<p>Changes are used for the <a class="reference internal" href="#concepts-change-source"><span class="std std-ref">Change sources</span></a> to communicate with
<a class="reference internal" href="#concepts-scheduler"><span class="std std-ref">Schedulers</span></a>.</p>
<p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">Change</span></code> comprises the following information:</p>
<blockquote>
<div><ul class="simple">
<li><p>the developer who is responsible for the change</p></li>
<li><p>the list of files that the change added, removed or modified</p></li>
<li><p>the message of the commit</p></li>
<li><p>the repository, the codebase and the project that the change corresponds to</p></li>
<li><p>the revision and the branch of the commit</p></li>
</ul>
</div></blockquote>
</section>
<section id="schedulers">
<span id="concepts-scheduler"></span><h2><span class="section-number">2.3.4. </span>Schedulers<a class="headerlink" href="#schedulers" title="Link to this heading"></a></h2>
<p>A scheduler is a component that decides when to start a build.
The decision could be based on time, on new code being committed or on similar events.</p>
<p>Schedulers are responsible for creating <a class="reference internal" href="#concepts-build-request"><span class="std std-ref">Build Requests</span></a> which
identify a request to start a build on a specific version of the source code.</p>
<p>Each Buildmaster has a set of scheduler objects, each of which gets a copy of every incoming
<code class="xref py py-class docutils literal notranslate"><span class="pre">Change</span></code>. The Schedulers are responsible for deciding when <code class="xref py py-class docutils literal notranslate"><span class="pre">Build</span></code>s should be run.
Some Buildbot installations might have a single scheduler, while others may have several, each for
a different purpose.</p>
</section>
<section id="buildrequests">
<span id="concepts-build-request"></span><h2><span class="section-number">2.3.5. </span>BuildRequests<a class="headerlink" href="#buildrequests" title="Link to this heading"></a></h2>
<p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">BuildRequest</span></code> is a request to start a specific build.
A <code class="xref py py-class docutils literal notranslate"><span class="pre">BuildRequest</span></code> consists of the following information:</p>
<blockquote>
<div><ul class="simple">
<li><p>the name of the <code class="xref py py-class docutils literal notranslate"><span class="pre">Builder</span></code> (see below) that will perform the build.</p></li>
<li><p>the set of <code class="xref py py-class docutils literal notranslate"><span class="pre">SourceStamp</span></code>s (see above) that specify the version of the source tree to build and/or test.</p></li>
</ul>
</div></blockquote>
<p>Two build requests representing the same version of the source code and the same builder may be
merged. The user may configure additional restrictions for determining mergeability of build
requests.</p>
</section>
<section id="builders-and-build-factories">
<span id="concepts-build-factories"></span><span id="concepts-builder"></span><h2><span class="section-number">2.3.6. </span>Builders and Build Factories<a class="headerlink" href="#builders-and-build-factories" title="Link to this heading"></a></h2>
<p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">Builder</span></code> is responsible for creating new builds from <code class="xref py py-class docutils literal notranslate"><span class="pre">BuildRequest</span></code>s.
Creating a new build is essentially determining the following properties of the subsequent build:</p>
<blockquote>
<div><ul class="simple">
<li><p>the exact <a class="reference internal" href="#concepts-step"><span class="std std-ref">steps</span></a> a build will execute</p></li>
<li><p>the <a class="reference internal" href="#concepts-worker"><span class="std std-ref">workers</span></a> that the build may run on</p></li>
</ul>
</div></blockquote>
<p>The sequence of steps to run is performed by user-configurable <code class="xref py py-class docutils literal notranslate"><span class="pre">BuildFactory</span></code> that is
attached to each <code class="xref py py-class docutils literal notranslate"><span class="pre">Builder</span></code> by the user.</p>
<p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">Builder</span></code> will attempt to create a <code class="xref py py-class docutils literal notranslate"><span class="pre">Build</span></code> from a <code class="xref py py-class docutils literal notranslate"><span class="pre">BuildRequest</span></code> as soon as
it is possible, that is, as soon as the associated worker becomes free. When a worker becomes free,
the build master will select the oldest <code class="xref py py-class docutils literal notranslate"><span class="pre">BuildRequest</span></code> that can run on that worker and
notify the corresponding <code class="xref py py-class docutils literal notranslate"><span class="pre">Builder</span></code> to maybe start a build out of it.</p>
<p>Each <code class="xref py py-class docutils literal notranslate"><span class="pre">Builder</span></code> by default runs completely independently. This means, that a worker that has
N builders attached to it, may potentially attempt to run N builds concurrently. This level of
concurrency may be controlled by various kinds of <a class="reference internal" href="configuration/interlocks.html#interlocks"><span class="std std-ref">Interlocks</span></a>.</p>
<p>At a low level, each builder has its own exclusive directory on the build master and one exclusive
directory on each of the workers it is attached to. The directory on the master is used for keeping
status information. The directories on the workers are used as a location where the actual
checkout, compilation and testing steps happen.</p>
<p>For easier management in the Web UI related builders may be grouped into projects.</p>
</section>
<section id="builds">
<span id="concepts-step"></span><span id="concepts-build"></span><h2><span class="section-number">2.3.7. </span>Builds<a class="headerlink" href="#builds" title="Link to this heading"></a></h2>
<p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">Build</span></code> represents a single compile or test run of a particular version of a source code.
A build is comprised of a series of steps. The steps may be arbitrary. For example, for compiled
software a build generally consists of the checkout, configure, make, and make check sequence. For
interpreted projects like Python modules, a build is generally a checkout followed by an invocation
of the bundled test suite.</p>
<p>Builds are created by instances of <code class="xref py py-class docutils literal notranslate"><span class="pre">Builder</span></code> (see above).</p>
</section>
<section id="buildsets">
<span id="concepts-buildset"></span><h2><span class="section-number">2.3.8. </span>BuildSets<a class="headerlink" href="#buildsets" title="Link to this heading"></a></h2>
<p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">BuildSet</span></code> represents a set of potentially not yet created <code class="xref py py-class docutils literal notranslate"><span class="pre">Build</span></code>s that all
compile and/or test the same version of the source tree. It tracks whether this set of builds as a
whole succeeded or not. The information that is stored in a BuildSet is a set of
<code class="xref py py-class docutils literal notranslate"><span class="pre">SourceStamp</span></code>s which define the version of the code to test and a set of <code class="xref py py-class docutils literal notranslate"><span class="pre">Builder</span></code>s
which define what builds to create.</p>
</section>
<section id="workers">
<span id="concepts-worker"></span><h2><span class="section-number">2.3.9. </span>Workers<a class="headerlink" href="#workers" title="Link to this heading"></a></h2>
<p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">Worker</span></code> corresponds to an environment where builds are executed. A single physical
machine must run at least one <code class="xref py py-class docutils literal notranslate"><span class="pre">Worker</span></code> in order for Buildbot to be able to utilize it for
running builds. Multiple <code class="xref py py-class docutils literal notranslate"><span class="pre">Worker</span></code>s may run on a single machine to provide different
environments that can reuse the same hardware by means of containers or virtual machines.</p>
<p>Each builder is associated with one or more <code class="xref py py-class docutils literal notranslate"><span class="pre">Worker</span></code>s. For example, a builder which is used
to perform macOS builds (as opposed to Linux or Windows builds) should naturally be associated with
a Mac worker.</p>
<p>If multiple workers are available for any given builder, you will have some measure of redundancy:
in case one worker goes offline, the others can still keep the <code class="xref py py-class docutils literal notranslate"><span class="pre">Builder</span></code> working. In
addition, multiple workers will allow multiple simultaneous builds for the same <code class="xref py py-class docutils literal notranslate"><span class="pre">Builder</span></code>,
which might be useful if you have a lot of forced or <code class="docutils literal notranslate"><span class="pre">try</span></code> builds taking place.</p>
<p>Ideally, each <code class="xref py py-class docutils literal notranslate"><span class="pre">Worker</span></code> that is configured for a builder should be identical. Otherwise build
or test failures will be dependent on which worker the build is run and this will complicate
investigations of failures.</p>
</section>
<section id="users">
<span id="concepts-users"></span><h2><span class="section-number">2.3.10. </span>Users<a class="headerlink" href="#users" title="Link to this heading"></a></h2>
<p>Buildbot has a somewhat limited awareness of <em>users</em>. It assumes the world consists of a set of
developers, each of whom can be described by a couple of simple attributes. These developers make
changes to the source code, causing builds which may succeed or fail.</p>
<p>Users also may have different levels of authorization when issuing Buildbot commands, such as
forcing a build from the web interface or from an IRC channel.</p>
<p>Each developer is primarily known through the source control system. Each <code class="xref py py-class docutils literal notranslate"><span class="pre">Change</span></code> object
that arrives is tagged with a <code class="xref py py-attr docutils literal notranslate"><span class="pre">who</span></code> field that typically gives the account name (on the
repository machine) of the user responsible for that change. This string is displayed on the HTML
status pages and in each <code class="xref py py-class docutils literal notranslate"><span class="pre">Build</span></code>'s <em>blamelist</em>.</p>
<p>To do more with the User than just refer to them, this username needs to be mapped into an address
of some sort. The responsibility for this mapping is left up to the status module which needs the
address. In the future, the responsibility for managing users will be transferred to User Objects.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">who</span></code> fields in <code class="docutils literal notranslate"><span class="pre">git</span></code> Changes are used to create <a class="reference internal" href="#user-objects"><span class="std std-ref">User Objects</span></a>, which allows for more
control and flexibility in how Buildbot manages users.</p>
<section id="user-objects">
<span id="id2"></span><h3><span class="section-number">2.3.10.1. </span>User Objects<a class="headerlink" href="#user-objects" title="Link to this heading"></a></h3>
<p>User Objects allow Buildbot to better manage users throughout its various interactions with users
(see <a class="reference internal" href="configuration/changesources.html#change-sources"><span class="std std-ref">Change Sources and Changes</span></a> and <a class="reference internal" href="configuration/reporters/index.html#reporters"><span class="std std-ref">Reporters</span></a>). The User Objects are stored in the Buildbot
database and correlate the various attributes that a user might have: irc, Git, etc.</p>
<section id="id3">
<h4>Changes<a class="headerlink" href="#id3" title="Link to this heading"></a></h4>
<p>Incoming Changes all have a <code class="docutils literal notranslate"><span class="pre">who</span></code> attribute attached to them that specifies which developer is
responsible for that Change. When a Change is first rendered, the <code class="docutils literal notranslate"><span class="pre">who</span></code> attribute is parsed and
added to the database, if it doesn’t exist, or checked against an existing user. The <code class="docutils literal notranslate"><span class="pre">who</span></code>
attribute is formatted in different ways depending on the version control system that the Change
came from.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">git</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">who</span></code> attributes take the form <code class="docutils literal notranslate"><span class="pre">Full</span> <span class="pre">Name</span> <span class="pre">&lt;Email&gt;</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">svn</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">who</span></code> attributes are of the form <code class="docutils literal notranslate"><span class="pre">Username</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">hg</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">who</span></code> attributes are free-form strings, but usually adhere to similar conventions as <code class="docutils literal notranslate"><span class="pre">git</span></code>
attributes (<code class="docutils literal notranslate"><span class="pre">Full</span> <span class="pre">Name</span> <span class="pre">&lt;Email&gt;</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cvs</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">who</span></code> attributes are of the form <code class="docutils literal notranslate"><span class="pre">Username</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">darcs</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">who</span></code> attributes contain an <code class="docutils literal notranslate"><span class="pre">Email</span></code> and may also include a <code class="docutils literal notranslate"><span class="pre">Full</span> <span class="pre">Name</span></code> like <code class="docutils literal notranslate"><span class="pre">git</span></code> attributes.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bzr</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">who</span></code> attributes are free-form strings like <code class="docutils literal notranslate"><span class="pre">hg</span></code>, and can include a <code class="docutils literal notranslate"><span class="pre">Username</span></code>, <code class="docutils literal notranslate"><span class="pre">Email</span></code>,
and/or <code class="docutils literal notranslate"><span class="pre">Full</span> <span class="pre">Name</span></code>.</p>
</dd>
</dl>
</section>
<section id="tools">
<h4>Tools<a class="headerlink" href="#tools" title="Link to this heading"></a></h4>
<p>For managing users manually, use the <code class="docutils literal notranslate"><span class="pre">buildbot</span> <span class="pre">user</span></code> command, which allows you to add, remove,
update, and show various attributes of users in the Buildbot database (see
<a class="reference internal" href="cmdline.html#command-line-tool"><span class="std std-ref">Command-line Tool</span></a>).</p>
</section>
<section id="uses">
<h4>Uses<a class="headerlink" href="#uses" title="Link to this heading"></a></h4>
<p>Correlating the various bits and pieces that Buildbot views as users also means that one attribute
of a user can be translated into another. This provides a more complete view of users throughout
Buildbot.</p>
<p>One such use is being able to find email addresses based on a set of Builds to notify users through
the <code class="docutils literal notranslate"><span class="pre">MailNotifier</span></code>. This process is explained more clearly in <a class="reference internal" href="#email-addresses"><span class="std std-ref">Email Addresses</span></a>.</p>
<p>Another way to utilize <cite>User Objects</cite> is through <cite>UsersAuth</cite> for web authentication. To use
<cite>UsersAuth</cite>, you need to set a <cite>bb_username</cite> and <cite>bb_password</cite> via the <code class="docutils literal notranslate"><span class="pre">buildbot</span> <span class="pre">user</span></code> command
line tool to check against. The password will be encrypted before it gets stored in the database
along with other user attributes.</p>
</section>
</section>
<section id="doing-things-with-users">
<span id="id4"></span><h3><span class="section-number">2.3.10.2. </span>Doing Things With Users<a class="headerlink" href="#doing-things-with-users" title="Link to this heading"></a></h3>
<p>Each change has a single user who is responsible for it. Most builds have a set of changes: the
build generally represents the first time these changes have been built and tested by the Buildbot.
The build has a <em>blamelist</em> that is the union of the users responsible for all of the build’s
changes. If the build was created by a <a class="reference internal" href="configuration/schedulers.html#try-schedulers"><span class="std std-ref">Try Schedulers</span></a> this list will include the submitter
of the try job if known.</p>
<p>The build provides a list of users who are interested in the build – the <em>interested users</em>.
Usually this is equal to the blamelist, but may also be expanded, e.g., to include the current
build sherrif or a module’s maintainer.</p>
<p>If desired, buildbot can notify the interested users until the problem is resolved.</p>
</section>
<section id="email-addresses">
<span id="id5"></span><h3><span class="section-number">2.3.10.3. </span>Email Addresses<a class="headerlink" href="#email-addresses" title="Link to this heading"></a></h3>
<p>The <a class="reference internal" href="configuration/reporters/mail_notifier.html#reporter-MailNotifier" title="MailNotifier"><code class="xref bb bb-reporter docutils literal notranslate"><span class="pre">MailNotifier</span></code></a> is a status target which can send emails about the results of each
build. It accepts a static list of email addresses to which each message should be delivered, but
it can also be configured to send emails to a <code class="xref py py-class docutils literal notranslate"><span class="pre">Build</span></code>'s Interested Users. To do this, it
needs a way to convert User names into email addresses.</p>
<p>For many VCSs, the User name is actually an account name on the system which hosts the repository.
As such, turning the name into an email address is simply a matter of appending
<code class="docutils literal notranslate"><span class="pre">&#64;repositoryhost.com</span></code>. Some projects use other kinds of mappings (for example the preferred email
address may be at <code class="docutils literal notranslate"><span class="pre">project.org</span></code>, despite the repository host being named <code class="docutils literal notranslate"><span class="pre">cvs.project.org</span></code>),
and some VCSs have full separation between the concept of a user and that of an account on the
repository host (like Perforce). Some systems (like Git) put a full contact email address in every
change.</p>
<p>To convert these names to addresses, the <code class="xref py py-class docutils literal notranslate"><span class="pre">MailNotifier</span></code> uses an <code class="xref py py-class docutils literal notranslate"><span class="pre">EmailLookup</span></code> object.
This provides a <code class="xref py py-meth docutils literal notranslate"><span class="pre">getAddress</span></code> method which accepts a name and (eventually) returns an address.
The default <code class="xref py py-class docutils literal notranslate"><span class="pre">MailNotifier</span></code> module provides an <code class="xref py py-class docutils literal notranslate"><span class="pre">EmailLookup</span></code> which simply appends a
static string, configurable when the notifier is created. To create more complex behaviors (perhaps
using an LDAP lookup, or using <code class="docutils literal notranslate"><span class="pre">finger</span></code> on a central host to determine a preferred address for
the developer), provide a different object as the <code class="docutils literal notranslate"><span class="pre">lookup</span></code> argument.</p>
<p>If an EmailLookup object isn’t given to the MailNotifier, the MailNotifier will try to find emails
through <a class="reference internal" href="#user-objects"><span class="std std-ref">User Objects</span></a>. If every user in the Build’s Interested Users list has an email in the
database for them, this will work the same as if an EmailLookup object was used. If a user whose
change led to a Build doesn’t have an email attribute, that user will not receive an email. If
<code class="docutils literal notranslate"><span class="pre">extraRecipients</span></code> is given, those users still get an email when the EmailLookup object is not
specified.</p>
<p>In the future, when the Problem mechanism has been set up, Buildbot will need to send emails to
arbitrary Users. It will do this by locating a <code class="xref py py-class docutils literal notranslate"><span class="pre">MailNotifier</span></code>-like object among all the
buildmaster’s status targets, and asking it to send messages to various Users. This means the
User-to-address mapping only has to be set up once, in your <code class="xref py py-class docutils literal notranslate"><span class="pre">MailNotifier</span></code>, and every email
message buildbot emits will take advantage of it.</p>
</section>
<section id="irc-nicknames">
<span id="id6"></span><h3><span class="section-number">2.3.10.4. </span>IRC Nicknames<a class="headerlink" href="#irc-nicknames" title="Link to this heading"></a></h3>
<p>Like <code class="xref py py-class docutils literal notranslate"><span class="pre">MailNotifier</span></code>, the <a class="reference internal" href="configuration/reporters/irc.html#buildbot.reporters.irc.IRC" title="buildbot.reporters.irc.IRC"><code class="xref py py-class docutils literal notranslate"><span class="pre">buildbot.reporters.irc.IRC</span></code></a> class provides a status target
which can announce the results of each build. It also provides an interactive interface by
responding to online queries posted in the channel or sent as private messages.</p>
<p>In the future, buildbot can be configured to map User names to IRC nicknames, to watch for the
recent presence of these nicknames, and to deliver build status messages to the interested parties.
Like <code class="xref py py-class docutils literal notranslate"><span class="pre">MailNotifier</span></code> does for email addresses, the <code class="xref py py-class docutils literal notranslate"><span class="pre">IRC</span></code> object will have an
<code class="xref py py-class docutils literal notranslate"><span class="pre">IRCLookup</span></code> which is responsible for nicknames. The mapping can be set up statically, or it
can be updated by online users themselves (by claiming a username with some kind of <code class="docutils literal notranslate"><span class="pre">buildbot:</span> <span class="pre">i</span>
<span class="pre">am</span> <span class="pre">user</span> <span class="pre">warner</span></code> commands).</p>
<p>Once the mapping is established, buildbot can then ask the <code class="xref py py-class docutils literal notranslate"><span class="pre">IRC</span></code> object to send messages to
various users. It can report on the likelihood that the user saw the given message (based upon how
long the user has been inactive on the channel), which might prompt the Problem Hassler logic to
send them an email message instead.</p>
<p>These operations and authentication of commands issued by particular nicknames will be implemented
in <a class="reference internal" href="#user-objects"><span class="std std-ref">User Objects</span></a>.</p>
</section>
</section>
<section id="build-properties">
<span id="index-0"></span><span id="id7"></span><h2><span class="section-number">2.3.11. </span>Build Properties<a class="headerlink" href="#build-properties" title="Link to this heading"></a></h2>
<p>Each build has a set of <em>Build Properties</em>, which can be used by its build steps to modify their
actions.</p>
<p>The properties are represented as a set of key-value pairs. Effectively, a single property is a
variable that, once set, can be used by subsequent steps in a build to modify their behaviour. The
value of a property can be a number, a string, a list or a dictionary. Lists and dictionaries can
contain other lists or dictionaries. Thus, the value of a property could be any arbitrarily complex
structure.</p>
<p>Properties work pretty much like variables, so they can be used to implement all manner of functionality.</p>
<p>The following are a couple of examples:</p>
<blockquote>
<div><ul class="simple">
<li><p>By default, the name of the worker that runs the build is set to the <code class="docutils literal notranslate"><span class="pre">workername</span></code> property. If
there are multiple different workers and the actions of the build depend on the exact worker, some
users may decide that it’s more convenient to vary the actions depending on the <code class="docutils literal notranslate"><span class="pre">workername</span></code>
property instead of creating separate builders for each worker.</p></li>
<li><p>In most cases, the build does not know the exact code revision that will be tested until it
checks out the code. This information is only known after a <a class="reference internal" href="configuration/steps/index.html#build-steps"><span class="std std-ref">source step</span></a> runs.
To give this information to the subsequent steps, the source step records the checked out
revision into the <code class="docutils literal notranslate"><span class="pre">got_revision</span></code> property.</p></li>
</ul>
</div></blockquote>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installation/misc.html" class="btn btn-neutral float-left" title="2.2.6. Next Steps" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="secretsmanagement.html" class="btn btn-neutral float-right" title="2.4. Secret Management" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Buildbot Team Members.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>