<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3.4. REST API &mdash; Buildbot 3.11.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d10597a4" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/buildbot_rtd.css?v=915d5e18" />

  
    <link rel="shortcut icon" href="../_static/icon.png"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=2d7d50ec"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3.5. REST API Specification" href="raml/index.html" />
    <link rel="prev" title="3.3.23. How to package Buildbot plugins" href="plugins-publish.html" /> 
<!-- GA-TRACKING-START -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try{
var pageTracker = _gat._getTracker("UA-12313843-4");
pageTracker._setDomainName("none");
pageTracker._setAllowLinker(true);
pageTracker._trackPageview();
} catch(err) {}
</script>
<!-- GA-TRACKING-END -->
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Buildbot
              <img src="../_static/full_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.11.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">1. Buildbot Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/index.html">2. Buildbot Manual</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">3. Buildbot Development</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="quickstart.html">3.1. Development Quick-start</a></li>
<li class="toctree-l2"><a class="reference internal" href="pull-request.html">3.2. Submitting Pull Requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="general.html">3.3. General Documents</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">3.4. REST API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#versions">3.4.1. Versions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getting">3.4.2. Getting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#collections">3.4.3. Collections</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#field-selection">3.4.3.1. Field Selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filtering">3.4.3.2. Filtering</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sorting">3.4.3.3. Sorting</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pagination">3.4.3.4. Pagination</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#controlling">3.4.4. Controlling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#authentication">3.4.5. Authentication</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="raml/index.html">3.5. REST API Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html">3.6. Data API</a></li>
<li class="toctree-l2"><a class="reference internal" href="database.html">3.7. Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/index.html">3.8. Database connectors API</a></li>
<li class="toctree-l2"><a class="reference internal" href="mq.html">3.9. Messaging and Queues</a></li>
<li class="toctree-l2"><a class="reference internal" href="classes.html">3.10. Classes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../relnotes/index.html">4. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../relnotes/index.html#older-release-notes">5. Older Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../indices.html">6. API Indices</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Buildbot</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">3. </span>Buildbot Development</a></li>
      <li class="breadcrumb-item active"><span class="section-number">3.4. </span>REST API</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/developer/rest.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="rest-api">
<span id="id1"></span><h1><span class="section-number">3.4. </span>REST API<a class="headerlink" href="#rest-api" title="Link to this heading"></a></h1>
<p>The REST API is a public interface which can be used by external code to control Buildbot.
Internally, the REST API is a thin wrapper around the data API’s “Getter” and “Control” sections.
It is also designed, in keeping with REST principles, to be discoverable.
As such, the details of the paths and resources are not documented here.
Begin at the root URL, and see the <a class="reference internal" href="data.html#data-api"><span class="std std-ref">Data API</span></a> documentation for more information.</p>
<p>The precise specifications in RAML format are described in <a class="reference internal" href="raml/index.html#rest-api-specs"><span class="std std-ref">REST API Specification</span></a> documentation.</p>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#versions" id="id3">Versions</a></p></li>
<li><p><a class="reference internal" href="#getting" id="id4">Getting</a></p></li>
<li><p><a class="reference internal" href="#collections" id="id5">Collections</a></p>
<ul>
<li><p><a class="reference internal" href="#field-selection" id="id6">Field Selection</a></p></li>
<li><p><a class="reference internal" href="#filtering" id="id7">Filtering</a></p></li>
<li><p><a class="reference internal" href="#sorting" id="id8">Sorting</a></p></li>
<li><p><a class="reference internal" href="#pagination" id="id9">Pagination</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#controlling" id="id10">Controlling</a></p></li>
<li><p><a class="reference internal" href="#authentication" id="id11">Authentication</a></p></li>
</ul>
</nav>
<section id="versions">
<h2><a class="toc-backref" href="#id3" role="doc-backlink"><span class="section-number">3.4.1. </span>Versions</a><a class="headerlink" href="#versions" title="Link to this heading"></a></h2>
<p>The API described here is version 2.
The ad-hoc API from Buildbot-0.8.x, version 1, is no longer supported <a class="footnote-reference brackets" href="#apiv1" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<p>The policy for incrementing the version is when there is an incompatible change added.
Removing a field or endpoint is considered incompatible change.
Adding a field or endpoint is not considered incompatible, and thus will only be described as a change in release notes.
The policy is that we will avoid as much as possible incrementing the version.</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="apiv1" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p>The JSON API defined by <code class="docutils literal notranslate"><span class="pre">status_json.py</span></code> in Buildbot-0.8.x is considered version 1, although its root path was <code class="docutils literal notranslate"><span class="pre">json</span></code>, not <code class="docutils literal notranslate"><span class="pre">api/v1</span></code>.</p>
</aside>
</aside>
</section>
<section id="getting">
<h2><a class="toc-backref" href="#id4" role="doc-backlink"><span class="section-number">3.4.2. </span>Getting</a><a class="headerlink" href="#getting" title="Link to this heading"></a></h2>
<p>To get data, issue a GET request to the appropriate path.
For example, with a base URL of <code class="docutils literal notranslate"><span class="pre">http://build.example.org/buildbot</span></code>, the list of masters for builder 9 is available at <code class="docutils literal notranslate"><span class="pre">http://build.example.org/buildbot/api/v2/builders/9/masters</span></code>.</p>
<dl id="rtype-collection">
<dt class="sig sig-object bb">
<em class="property"><span class="pre">resource</span> <span class="pre">type:</span> </em><span class="sig-name descname"><span class="pre">collection</span></span></dt>
<dd></dd></dl>

</section>
<section id="collections">
<h2><a class="toc-backref" href="#id5" role="doc-backlink"><span class="section-number">3.4.3. </span>Collections</a><a class="headerlink" href="#collections" title="Link to this heading"></a></h2>
<p>Results are formatted in keeping with the <a class="reference external" href="http://jsonapi.org/">JSON API</a> specification.
The top level of every response is an object.
Its keys are the plural names of the resource types, and the values are lists of objects, even for a single-resource request.
For example:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;meta&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;schedulers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;master&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smoketest&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;schedulerid&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;master&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;active&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;last_active&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1369604067</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;link&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://build.example.org/api/v2/master/1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;masterid&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;master3:/BB/master&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;goaheadtryme&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;schedulerid&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A response may optionally contain extra, related resources beyond those requested.
The <code class="docutils literal notranslate"><span class="pre">meta</span></code> key contains metadata about the response, including the total count of resources in a collection.</p>
<p>Several query parameters may be used to affect the results of a request.
These parameters are applied in the order described (so, it is not possible to sort on a field that is not selected, for example).</p>
<section id="field-selection">
<h3><a class="toc-backref" href="#id6" role="doc-backlink"><span class="section-number">3.4.3.1. </span>Field Selection</a><a class="headerlink" href="#field-selection" title="Link to this heading"></a></h3>
<p>If only certain fields of each resource are required, the <code class="docutils literal notranslate"><span class="pre">field</span></code> query parameter can be used to select them.
For example, the following will select just the names and id’s of all schedulers:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">http://build.example.org/api/v2/scheduler?field=name&amp;field=schedulerid</span></code></p></li>
</ul>
<p>Field selection can be used for either detail (single-entity) or collection (multi-entity) requests.
The remaining options only apply to collection requests.</p>
</section>
<section id="filtering">
<h3><a class="toc-backref" href="#id7" role="doc-backlink"><span class="section-number">3.4.3.2. </span>Filtering</a><a class="headerlink" href="#filtering" title="Link to this heading"></a></h3>
<p>Collection responses may be filtered on any simple top-level field.</p>
<p>To select records with a specific value use the query parameter <code class="docutils literal notranslate"><span class="pre">{field}={value}</span></code>.
For example, <code class="docutils literal notranslate"><span class="pre">http://build.example.org/api/v2/scheduler?name=smoketest</span></code> selects the scheduler named “smoketest”.</p>
<p>Filters can use any of the operators listed below, with query parameters of the form <code class="docutils literal notranslate"><span class="pre">{field}__{operator}={value}</span></code>.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">eq</span></code></dt><dd><p>equality, with the same parameter appearing one or multiple times, is equality with one of the given values (so <cite>foo__eq=x&amp;foo__eq=y</cite> would match resources where foo is <cite>x</cite> or <cite>y</cite>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ne</span></code></dt><dd><p>inequality, or set exclusion</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lt</span></code></dt><dd><p>select resources where the field’s value is less than <code class="docutils literal notranslate"><span class="pre">{value}</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">le</span></code></dt><dd><p>select resources where the field’s value is less than or equal to <code class="docutils literal notranslate"><span class="pre">{value}</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gt</span></code></dt><dd><p>select resources where the field’s value is greater than <code class="docutils literal notranslate"><span class="pre">{value}</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ge</span></code></dt><dd><p>select resources where the field’s value is greater than or equal to <code class="docutils literal notranslate"><span class="pre">{value}</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">contains</span></code></dt><dd><p>Select resources where the field’s value contains <code class="docutils literal notranslate"><span class="pre">{value}</span></code>.
If the parameter is provided multiple times, results containing at least one of the values are returned (so <cite>foo__contains=x&amp;foo__contains=y</cite> would match resources where foo contains <cite>x</cite>, <cite>y</cite> or both).</p>
</dd>
</dl>
<p>For example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">http://build.example.org/api/v2/builder?name__lt=cccc</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">http://build.example.org/api/v2/buildsets?complete__eq=false</span></code></p></li>
</ul>
<p>Boolean values can be given as <code class="docutils literal notranslate"><span class="pre">on</span></code>/<code class="docutils literal notranslate"><span class="pre">off</span></code>, <code class="docutils literal notranslate"><span class="pre">true</span></code>/<code class="docutils literal notranslate"><span class="pre">false</span></code>, <code class="docutils literal notranslate"><span class="pre">yes</span></code>/<code class="docutils literal notranslate"><span class="pre">no</span></code>, or <code class="docutils literal notranslate"><span class="pre">1</span></code>/<code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</section>
<section id="sorting">
<h3><a class="toc-backref" href="#id8" role="doc-backlink"><span class="section-number">3.4.3.3. </span>Sorting</a><a class="headerlink" href="#sorting" title="Link to this heading"></a></h3>
<p>Collection responses may be ordered with the <code class="docutils literal notranslate"><span class="pre">order</span></code> query parameter.
This parameter takes a field name to sort on, optionally prefixed with <code class="docutils literal notranslate"><span class="pre">-</span></code> to reverse the sort.
The parameter can appear multiple times, and will be sorted lexicographically with the fields arranged in the given order.
For example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">http://build.example.org/api/v2/buildrequests?order=builderid&amp;order=buildrequestid</span></code></p></li>
</ul>
</section>
<section id="pagination">
<h3><a class="toc-backref" href="#id9" role="doc-backlink"><span class="section-number">3.4.3.4. </span>Pagination</a><a class="headerlink" href="#pagination" title="Link to this heading"></a></h3>
<p>Collection responses may be paginated with the <code class="docutils literal notranslate"><span class="pre">offset</span></code> and <code class="docutils literal notranslate"><span class="pre">limit</span></code> query parameters.
The offset is the 0-based index of the first result to include, after filtering and sorting.
The limit is the maximum number of results to return.
Some resource types may impose a maximum on the limit parameter; be sure to check the resulting links to determine whether further data is available.
For example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">http://build.example.org/api/v2/buildrequests?order=builderid&amp;limit=10</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">http://build.example.org/api/v2/buildrequests?order=builderid&amp;offset=20&amp;limit=10</span></code></p></li>
</ul>
</section>
</section>
<section id="controlling">
<h2><a class="toc-backref" href="#id10" role="doc-backlink"><span class="section-number">3.4.4. </span>Controlling</a><a class="headerlink" href="#controlling" title="Link to this heading"></a></h2>
<p>Data API control operations are handled by POST requests using a simplified form of <a class="reference external" href="http://www.jsonrpc.org/specification">JSONRPC 2.0</a>.
The JSONRPC “method” is mapped to the data API “action”, and the parameters are passed to that application.</p>
<p>The following parts of the protocol are not supported:</p>
<ul class="simple">
<li><p>positional parameters</p></li>
<li><p>batch requests</p></li>
</ul>
<p>Requests are sent as an HTTP POST, containing the request JSON in the body.
The content-type header must be <code class="docutils literal notranslate"><span class="pre">application/json</span></code>.</p>
<p>A simple example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>POST http://build.example.org/api/v2/scheduler/4
--&gt; {&quot;jsonrpc&quot;: &quot;2.0&quot;, &quot;method&quot;: &quot;force&quot;,
     &quot;params&quot;: {&quot;revision&quot;: &quot;abcd&quot;, &quot;branch&quot;: &quot;dev&quot;},
     &quot;id&quot;: 843}
&lt;-- {&quot;jsonrpc&quot;: &quot;2.0&quot;, &quot;result&quot;: {&quot;buildsetid&quot;: 44}, &quot;id&quot;: 843}
</pre></div>
</div>
</section>
<section id="authentication">
<h2><a class="toc-backref" href="#id11" role="doc-backlink"><span class="section-number">3.4.5. </span>Authentication</a><a class="headerlink" href="#authentication" title="Link to this heading"></a></h2>
<p>Authentication to the REST API is performed in the same manner as authentication to the main web interface.
Once credentials have been established, a cookie will be set, which must be sent to the Buildbot REST API with every request thereafter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
<span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://&lt;buildbot_url&gt;/auth/login&quot;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;passwd&#39;</span><span class="p">))</span>
<span class="n">builders</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://&lt;buildbot_url&gt;/api/v2/builders&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</pre></div>
</div>
<p>For those Buildbot instances using OAuth2 authentication providers, it is at the moment not possible to access the authenticated API .</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="plugins-publish.html" class="btn btn-neutral float-left" title="3.3.23. How to package Buildbot plugins" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="raml/index.html" class="btn btn-neutral float-right" title="3.5. REST API Specification" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Buildbot Team Members.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>