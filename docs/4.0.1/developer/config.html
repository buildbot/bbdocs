<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3.3.4. Configuration &mdash; Buildbot 4.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d10597a4" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/buildbot_rtd.css?v=915d5e18" />

  
    <link rel="shortcut icon" href="../_static/icon.png"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=977c7dfd"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3.3.6. Writing Schedulers" href="schedulers.html" />
    <link rel="prev" title="3.3.3. Buildbot’s Test Suite" href="tests.html" /> 
<!-- GA-TRACKING-START -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try{
var pageTracker = _gat._getTracker("UA-12313843-4");
pageTracker._setDomainName("none");
pageTracker._setAllowLinker(true);
pageTracker._trackPageview();
} catch(err) {}
</script>
<!-- GA-TRACKING-END -->
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Buildbot
              <img src="../_static/full_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                4.0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">1. Buildbot Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/index.html">2. Buildbot Manual</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">3. Buildbot Development</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="quickstart.html">3.1. Development Quick-start</a></li>
<li class="toctree-l2"><a class="reference internal" href="pull-request.html">3.2. Submitting Pull Requests</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="general.html">3.3. General Documents</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="master-overview.html">3.3.1. Master Organization</a></li>
<li class="toctree-l3"><a class="reference internal" href="style.html">3.3.2. Buildbot Coding Style</a></li>
<li class="toctree-l3"><a class="reference internal" href="tests.html">3.3.3. Buildbot’s Test Suite</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">3.3.4. Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#buildbot.config.MasterConfig"><code class="docutils literal notranslate"><span class="pre">MasterConfig</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#buildbot.config.FileLoader"><code class="docutils literal notranslate"><span class="pre">FileLoader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#buildbot.config.loadConfigDict"><code class="docutils literal notranslate"><span class="pre">loadConfigDict</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#builder-configuration">3.3.4.1. Builder Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#error-handling">3.3.4.2. Error Handling</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#configuration-in-angularjs">3.3.5. Configuration in AngularJS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#buildbot.config.buildbot.interfaces.IConfigured"><code class="docutils literal notranslate"><span class="pre">buildbot.interfaces.IConfigured</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#buildbot.config.buildbot.util.ConfiguredMixin"><code class="docutils literal notranslate"><span class="pre">buildbot.util.ConfiguredMixin</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#reconfiguration">3.3.5.1. Reconfiguration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="schedulers.html">3.3.6. Writing Schedulers</a></li>
<li class="toctree-l3"><a class="reference internal" href="utils.html">3.3.7. Utilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="results.html">3.3.8. Build Result Codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="www-server.html">3.3.9. WWW Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="www-data-module.html">3.3.10. Javascript Data Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="www-base-app.html">3.3.11. Base web application</a></li>
<li class="toctree-l3"><a class="reference internal" href="auth.html">3.3.12. Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="authz.html">3.3.13. Authorization</a></li>
<li class="toctree-l3"><a class="reference internal" href="master-worker.html">3.3.14. Master-Worker API</a></li>
<li class="toctree-l3"><a class="reference internal" href="master-worker-msgpack.html">3.3.15. Master-Worker connection with MessagePack over WebSocket protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="br-claiming.html">3.3.16. Claiming Build Requests</a></li>
<li class="toctree-l3"><a class="reference internal" href="encodings.html">3.3.17. String Encodings</a></li>
<li class="toctree-l3"><a class="reference internal" href="metrics.html">3.3.18. Metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="secrets.html">3.3.19. Secrets</a></li>
<li class="toctree-l3"><a class="reference internal" href="secrets.html#secrets-manager">3.3.20. Secrets manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="secrets.html#secrets-providers">3.3.21. Secrets providers</a></li>
<li class="toctree-l3"><a class="reference internal" href="stats-service.html">3.3.22. Statistics Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugins-publish.html">3.3.23. How to package Buildbot plugins</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rest.html">3.4. REST API</a></li>
<li class="toctree-l2"><a class="reference internal" href="raml/index.html">3.5. REST API Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html">3.6. Data API</a></li>
<li class="toctree-l2"><a class="reference internal" href="database.html">3.7. Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/index.html">3.8. Database connectors API</a></li>
<li class="toctree-l2"><a class="reference internal" href="mq.html">3.9. Messaging and Queues</a></li>
<li class="toctree-l2"><a class="reference internal" href="classes.html">3.10. Classes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../relnotes/index.html">4. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../relnotes/index.html#older-release-notes">5. Older Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../indices.html">6. API Indices</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Buildbot</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">3. </span>Buildbot Development</a></li>
          <li class="breadcrumb-item"><a href="general.html"><span class="section-number">3.3. </span>General Documents</a></li>
      <li class="breadcrumb-item active"><span class="section-number">3.3.4. </span>Configuration</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/developer/config.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-buildbot.config">
<span id="configuration"></span><h1><span class="section-number">3.3.4. </span>Configuration<a class="headerlink" href="#module-buildbot.config" title="Link to this heading"></a></h1>
<p>Wherever possible, Buildbot components should access configuration information
as needed from the canonical source, <code class="docutils literal notranslate"><span class="pre">master.config</span></code>, which is an instance of
<a class="reference internal" href="#buildbot.config.MasterConfig" title="buildbot.config.MasterConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">MasterConfig</span></code></a>.  For example, components should not keep a copy of
the <code class="docutils literal notranslate"><span class="pre">buildbotURL</span></code> locally, as this value may change throughout the lifetime
of the master.</p>
<p>Components which need to be notified of changes in the configuration should be
implemented as services, subclassing <a class="reference internal" href="#buildbot.config.ReconfigurableServiceMixin" title="buildbot.config.ReconfigurableServiceMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReconfigurableServiceMixin</span></code></a>, as
described in <a class="reference internal" href="#developer-reconfiguration"><span class="std std-ref">Reconfiguration</span></a>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">buildbot.config.</span></span><span class="sig-name descname"><span class="pre">MasterConfig</span></span><a class="headerlink" href="#buildbot.config.MasterConfig" title="Link to this definition"></a></dt>
<dd><p>The master object makes much of the configuration available from an object
named <code class="docutils literal notranslate"><span class="pre">master.config</span></code>.  Configuration is stored as attributes of this
object.  Where possible, other Buildbot components should access this
configuration directly and not cache the configuration values anywhere
else.  This avoids the need to ensure that update-from-configuration
methods are called on a reconfig.</p>
<p>Aside from validating the configuration, this class handles any
backward-compatibility issues - renamed parameters, type changes, and so on
- removing those concerns from other parts of Buildbot.</p>
<p>This class may be instantiated directly, creating an entirely default
configuration, or via <a class="reference internal" href="#buildbot.config.FileLoader.loadConfig" title="buildbot.config.FileLoader.loadConfig"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FileLoader.loadConfig</span></code></a>, which will load the
configuration from a config file.</p>
<p>The following attributes are available from this class, representing the
current configuration.  This includes a number of global parameters:</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.title">
<span class="sig-name descname"><span class="pre">title</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.title" title="Link to this definition"></a></dt>
<dd><p>The title of this buildmaster, from <a class="reference internal" href="../manual/configuration/global.html#cfg-title" title="title"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">title</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.titleURL">
<span class="sig-name descname"><span class="pre">titleURL</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.titleURL" title="Link to this definition"></a></dt>
<dd><p>The URL corresponding to the title, from <a class="reference internal" href="../manual/configuration/global.html#cfg-titleURL" title="titleURL"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">titleURL</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.buildbotURL">
<span class="sig-name descname"><span class="pre">buildbotURL</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.buildbotURL" title="Link to this definition"></a></dt>
<dd><p>The URL of this buildmaster, for use in constructing WebStatus URLs;
from <a class="reference internal" href="../manual/configuration/global.html#cfg-buildbotURL" title="buildbotURL"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">buildbotURL</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.logCompressionLimit">
<span class="sig-name descname"><span class="pre">logCompressionLimit</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.logCompressionLimit" title="Link to this definition"></a></dt>
<dd><p>The current log compression limit, from <a class="reference internal" href="../manual/configuration/global.html#cfg-logCompressionLimit" title="logCompressionLimit"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">logCompressionLimit</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.logCompressionMethod">
<span class="sig-name descname"><span class="pre">logCompressionMethod</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.logCompressionMethod" title="Link to this definition"></a></dt>
<dd><p>The current log compression method, from <a class="reference internal" href="../manual/configuration/global.html#cfg-logCompressionMethod" title="logCompressionMethod"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">logCompressionMethod</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.logMaxSize">
<span class="sig-name descname"><span class="pre">logMaxSize</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.logMaxSize" title="Link to this definition"></a></dt>
<dd><p>The current log maximum size, from <a class="reference internal" href="../manual/configuration/global.html#cfg-logMaxSize" title="logMaxSize"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">logMaxSize</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.logMaxTailSize">
<span class="sig-name descname"><span class="pre">logMaxTailSize</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.logMaxTailSize" title="Link to this definition"></a></dt>
<dd><p>The current log tail maximum size, from <a class="reference internal" href="../manual/configuration/global.html#cfg-logMaxTailSize" title="logMaxTailSize"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">logMaxTailSize</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.logEncoding">
<span class="sig-name descname"><span class="pre">logEncoding</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.logEncoding" title="Link to this definition"></a></dt>
<dd><p>The encoding to expect when logs are provided as bytestrings, from <a class="reference internal" href="../manual/configuration/global.html#cfg-logEncoding" title="logEncoding"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">logEncoding</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.properties">
<span class="sig-name descname"><span class="pre">properties</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.properties" title="Link to this definition"></a></dt>
<dd><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">Properties</span></code> instance
containing global properties, from <a class="reference internal" href="../manual/configuration/global.html#cfg-properties" title="properties"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">properties</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.collapseRequests">
<span class="sig-name descname"><span class="pre">collapseRequests</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.collapseRequests" title="Link to this definition"></a></dt>
<dd><p>A callable, or True or False, describing how to collapse requests; from
<a class="reference internal" href="../manual/configuration/global.html#cfg-collapseRequests" title="collapseRequests"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">collapseRequests</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.prioritizeBuilders">
<span class="sig-name descname"><span class="pre">prioritizeBuilders</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.prioritizeBuilders" title="Link to this definition"></a></dt>
<dd><p>A callable, or None, used to prioritize builders; from
<a class="reference internal" href="../manual/configuration/global.html#cfg-prioritizeBuilders" title="prioritizeBuilders"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">prioritizeBuilders</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.codebaseGenerator">
<span class="sig-name descname"><span class="pre">codebaseGenerator</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.codebaseGenerator" title="Link to this definition"></a></dt>
<dd><p>A callable, or None, used to determine the codebase from an incoming
<a class="reference internal" href="../manual/configuration/changesources.html#buildbot.changes.changes.Change" title="buildbot.changes.changes.Change"><code class="xref py py-class docutils literal notranslate"><span class="pre">Change</span></code></a>,
from <a class="reference internal" href="../manual/configuration/global.html#cfg-codebaseGenerator" title="codebaseGenerator"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">codebaseGenerator</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.protocols">
<span class="sig-name descname"><span class="pre">protocols</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.protocols" title="Link to this definition"></a></dt>
<dd><p>The per-protocol port specification for worker connections; based on <a class="reference internal" href="../manual/configuration/global.html#cfg-protocols" title="protocols"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">protocols</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.multiMaster">
<span class="sig-name descname"><span class="pre">multiMaster</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.multiMaster" title="Link to this definition"></a></dt>
<dd><p>If true, then this master is part of a cluster; based on <a class="reference internal" href="../manual/configuration/global.html#cfg-multiMaster" title="multiMaster"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">multiMaster</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.manhole">
<span class="sig-name descname"><span class="pre">manhole</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.manhole" title="Link to this definition"></a></dt>
<dd><p>The manhole instance to use, or None; from <a class="reference internal" href="../manual/configuration/global.html#cfg-manhole" title="manhole"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">manhole</span></code></a>.</p>
</dd></dl>

<p>The remaining attributes contain compound configuration structures, usually as dictionaries:</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.validation">
<span class="sig-name descname"><span class="pre">validation</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.validation" title="Link to this definition"></a></dt>
<dd><p>Validation regular expressions, a dictionary from <a class="reference internal" href="../manual/configuration/global.html#cfg-validation" title="validation"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">validation</span></code></a>.
It is safe to assume that all expected keys are present.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.db">
<span class="sig-name descname"><span class="pre">db</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.db" title="Link to this definition"></a></dt>
<dd><p>Database specification, a dictionary with key <a class="reference internal" href="../manual/configuration/global.html#cfg-db_url" title="db_url"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">db_url</span></code></a>.  It is
safe to assume that this key is present.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.metrics">
<span class="sig-name descname"><span class="pre">metrics</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.metrics" title="Link to this definition"></a></dt>
<dd><p>The metrics configuration from <a class="reference internal" href="../manual/configuration/global.html#cfg-metrics" title="metrics"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">metrics</span></code></a>, or an empty
dictionary by default.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.caches">
<span class="sig-name descname"><span class="pre">caches</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.caches" title="Link to this definition"></a></dt>
<dd><p>The cache configuration, from <a class="reference internal" href="../manual/configuration/global.html#cfg-caches" title="caches"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">caches</span></code></a> as well as the
deprecated <a class="reference internal" href="../manual/configuration/global.html#cfg-buildCacheSize" title="buildCacheSize"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">buildCacheSize</span></code></a> and <a class="reference internal" href="../manual/configuration/global.html#cfg-changeCacheSize" title="changeCacheSize"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">changeCacheSize</span></code></a>
parameters.</p>
<p>The keys <code class="docutils literal notranslate"><span class="pre">Builds</span></code> and <code class="docutils literal notranslate"><span class="pre">Caches</span></code> are always available; other keys
should use <code class="docutils literal notranslate"><span class="pre">config.caches.get(cachename,</span> <span class="pre">1)</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.schedulers">
<span class="sig-name descname"><span class="pre">schedulers</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.schedulers" title="Link to this definition"></a></dt>
<dd><p>The dictionary of scheduler instances, by name, from <a class="reference internal" href="../manual/configuration/schedulers.html#cfg-schedulers" title="schedulers"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">schedulers</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.builders">
<span class="sig-name descname"><span class="pre">builders</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.builders" title="Link to this definition"></a></dt>
<dd><p>The list of <a class="reference internal" href="#buildbot.config.BuilderConfig" title="buildbot.config.BuilderConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">BuilderConfig</span></code></a> instances from
<a class="reference internal" href="../manual/configuration/builders.html#cfg-builders" title="builders"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">builders</span></code></a>.  Builders specified as dictionaries in the
configuration file are converted to instances.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.workers">
<span class="sig-name descname"><span class="pre">workers</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.workers" title="Link to this definition"></a></dt>
<dd><p>The list of <code class="xref py py-class docutils literal notranslate"><span class="pre">Worker</span></code> instances from
<a class="reference internal" href="../manual/configuration/workers.html#cfg-workers" title="workers"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">workers</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.change_sources">
<span class="sig-name descname"><span class="pre">change_sources</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.change_sources" title="Link to this definition"></a></dt>
<dd><p>The list of <code class="xref py py-class docutils literal notranslate"><span class="pre">IChangeSource</span></code> providers from
<a class="reference internal" href="../manual/configuration/changesources.html#cfg-change_source" title="change_source"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">change_source</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.user_managers">
<span class="sig-name descname"><span class="pre">user_managers</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.user_managers" title="Link to this definition"></a></dt>
<dd><p>The list of user managers providers from <a class="reference internal" href="../manual/configuration/global.html#cfg-user_managers" title="user_managers"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">user_managers</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.www">
<span class="sig-name descname"><span class="pre">www</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.www" title="Link to this definition"></a></dt>
<dd><p>The web server configuration from <a class="reference internal" href="../manual/configuration/www.html#cfg-www" title="www"><code class="xref bb bb-cfg docutils literal notranslate"><span class="pre">www</span></code></a>.  The keys <code class="docutils literal notranslate"><span class="pre">port</span></code> and
<code class="docutils literal notranslate"><span class="pre">url</span></code> are always available.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.services">
<span class="sig-name descname"><span class="pre">services</span></span><a class="headerlink" href="#buildbot.config.MasterConfig.services" title="Link to this definition"></a></dt>
<dd><p>The list of additional plugin services.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildbot.config.MasterConfig.loadFromDict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">loadFromDict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.config.MasterConfig.loadFromDict" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config_dict</strong> (<em>dict</em>) – The dictionary containing the configuration to load</p></li>
<li><p><strong>filename</strong> (<em>string</em>) – The filename to use when reporting errors</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>new <a class="reference internal" href="#buildbot.config.MasterConfig" title="buildbot.config.MasterConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">MasterConfig</span></code></a> instance</p>
</dd>
</dl>
<p>Load the configuration from the given dictionary.</p>
</dd></dl>

</dd></dl>

<p>Loading of the configuration file is generally triggered by the master,
using the following class:</p>
<dl class="py class">
<dt class="sig sig-object py" id="buildbot.config.FileLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">buildbot.config.</span></span><span class="sig-name descname"><span class="pre">FileLoader</span></span><a class="headerlink" href="#buildbot.config.FileLoader" title="Link to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="buildbot.config.FileLoader.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">basedir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.config.FileLoader.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>basedir</strong> (<em>string</em>) – directory to which config is relative</p></li>
<li><p><strong>filename</strong> (<em>string</em>) – the configuration file to load</p></li>
</ul>
</dd>
</dl>
<p>The filename is treated as relative to basedir if it is not absolute.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildbot.config.FileLoader.loadConfig">
<span class="sig-name descname"><span class="pre">loadConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">basedir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.config.FileLoader.loadConfig" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>new <a class="reference internal" href="#buildbot.config.MasterConfig" title="buildbot.config.MasterConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">MasterConfig</span></code></a> instance</p>
</dd>
</dl>
<p>Load the configuration in the given file.  Aside from syntax errors,
this will also detect a number of semantic errors such as multiple
schedulers with the same name.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="buildbot.config.loadConfigDict">
<span class="sig-prename descclassname"><span class="pre">buildbot.config.</span></span><span class="sig-name descname"><span class="pre">loadConfigDict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">basedir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.config.loadConfigDict" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>basedir</strong> (<em>string</em>) – directory to which config is relative</p></li>
<li><p><strong>filename</strong> (<em>string</em>) – the configuration file to load</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#buildbot.config.ConfigErrors" title="buildbot.config.ConfigErrors"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ConfigErrors</span></code></a> if any errors occur</p>
</dd>
<dt class="field-odd">Returns dict<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <code class="docutils literal notranslate"><span class="pre">BuildmasterConfig</span></code> dictionary.</p>
</dd>
</dl>
<p>Load the configuration dictionary in the given file.</p>
<p>The filename is treated as relative to basedir if it is not absolute.</p>
</dd></dl>

<section id="builder-configuration">
<h2><span class="section-number">3.3.4.1. </span>Builder Configuration<a class="headerlink" href="#builder-configuration" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="buildbot.config.BuilderConfig">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">buildbot.config.</span></span><span class="sig-name descname"><span class="pre">BuilderConfig</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">keyword</span> <span class="pre">args</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.config.BuilderConfig" title="Link to this definition"></a></dt>
<dd><p>This class parameterizes configuration of builders; see <a class="reference internal" href="../manual/configuration/builders.html#builder-configuration"><span class="std std-ref">Builder Configuration</span></a> for its arguments.
The constructor checks for errors, applies defaults, and sets the properties described here.
Most are simply copied from the constructor argument of the same name.</p>
<p>Users may subclass this class to add defaults, for example.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.BuilderConfig.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#buildbot.config.BuilderConfig.name" title="Link to this definition"></a></dt>
<dd><p>The builder’s name.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.BuilderConfig.factory">
<span class="sig-name descname"><span class="pre">factory</span></span><a class="headerlink" href="#buildbot.config.BuilderConfig.factory" title="Link to this definition"></a></dt>
<dd><p>The builder’s factory.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.BuilderConfig.workernames">
<span class="sig-name descname"><span class="pre">workernames</span></span><a class="headerlink" href="#buildbot.config.BuilderConfig.workernames" title="Link to this definition"></a></dt>
<dd><p>The builder’s worker names (a list, regardless of whether the names were
specified with <code class="docutils literal notranslate"><span class="pre">workername</span></code> or <code class="docutils literal notranslate"><span class="pre">workernames</span></code>).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.BuilderConfig.builddir">
<span class="sig-name descname"><span class="pre">builddir</span></span><a class="headerlink" href="#buildbot.config.BuilderConfig.builddir" title="Link to this definition"></a></dt>
<dd><p>The builder’s builddir.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.BuilderConfig.workerbuilddir">
<span class="sig-name descname"><span class="pre">workerbuilddir</span></span><a class="headerlink" href="#buildbot.config.BuilderConfig.workerbuilddir" title="Link to this definition"></a></dt>
<dd><p>The builder’s worker-side builddir.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.BuilderConfig.category">
<span class="sig-name descname"><span class="pre">category</span></span><a class="headerlink" href="#buildbot.config.BuilderConfig.category" title="Link to this definition"></a></dt>
<dd><p>The builder’s category.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.BuilderConfig.nextWorker">
<span class="sig-name descname"><span class="pre">nextWorker</span></span><a class="headerlink" href="#buildbot.config.BuilderConfig.nextWorker" title="Link to this definition"></a></dt>
<dd><p>The builder’s nextWorker callable.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.BuilderConfig.nextBuild">
<span class="sig-name descname"><span class="pre">nextBuild</span></span><a class="headerlink" href="#buildbot.config.BuilderConfig.nextBuild" title="Link to this definition"></a></dt>
<dd><p>The builder’s nextBuild callable.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.BuilderConfig.canStartBuild">
<span class="sig-name descname"><span class="pre">canStartBuild</span></span><a class="headerlink" href="#buildbot.config.BuilderConfig.canStartBuild" title="Link to this definition"></a></dt>
<dd><p>The builder’s canStartBuild callable.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.BuilderConfig.locks">
<span class="sig-name descname"><span class="pre">locks</span></span><a class="headerlink" href="#buildbot.config.BuilderConfig.locks" title="Link to this definition"></a></dt>
<dd><p>The builder’s locks.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.BuilderConfig.env">
<span class="sig-name descname"><span class="pre">env</span></span><a class="headerlink" href="#buildbot.config.BuilderConfig.env" title="Link to this definition"></a></dt>
<dd><p>The builder’s environment variables.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.BuilderConfig.properties">
<span class="sig-name descname"><span class="pre">properties</span></span><a class="headerlink" href="#buildbot.config.BuilderConfig.properties" title="Link to this definition"></a></dt>
<dd><p>The builder’s properties, as a dictionary.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.BuilderConfig.collapseRequests">
<span class="sig-name descname"><span class="pre">collapseRequests</span></span><a class="headerlink" href="#buildbot.config.BuilderConfig.collapseRequests" title="Link to this definition"></a></dt>
<dd><p>The builder’s collapseRequests callable.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.BuilderConfig.description">
<span class="sig-name descname"><span class="pre">description</span></span><a class="headerlink" href="#buildbot.config.BuilderConfig.description" title="Link to this definition"></a></dt>
<dd><p>The builder’s description, displayed in the web status.</p>
</dd></dl>

</dd></dl>

</section>
<section id="error-handling">
<h2><span class="section-number">3.3.4.2. </span>Error Handling<a class="headerlink" href="#error-handling" title="Link to this heading"></a></h2>
<p>If any errors are encountered while loading the configuration, <a class="reference internal" href="#buildbot.config.error" title="buildbot.config.error"><code class="xref py py-func docutils literal notranslate"><span class="pre">buildbot.config.error</span></code></a> should be called.
This can occur both in the configuration-loading code, and in the constructors of any objects that are instantiated in the configuration - change sources, workers, schedulers, build steps, and so on.</p>
<dl class="py function">
<dt class="sig sig-object py" id="buildbot.config.error">
<span class="sig-prename descclassname"><span class="pre">buildbot.config.</span></span><span class="sig-name descname"><span class="pre">error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">error</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.config.error" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>error</strong> – error to report</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#buildbot.config.ConfigErrors" title="buildbot.config.ConfigErrors"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ConfigErrors</span></code></a> if called at build-time</p>
</dd>
</dl>
<p>This function reports a configuration error.
If a config file is being loaded, then the function merely records the error, and allows the rest of the configuration to be loaded.
At any other time, it raises <a class="reference internal" href="#buildbot.config.ConfigErrors" title="buildbot.config.ConfigErrors"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ConfigErrors</span></code></a>.
This is done so that all config errors can be reported, rather than just the first one.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="buildbot.config.ConfigErrors">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">buildbot.config.</span></span><span class="sig-name descname"><span class="pre">ConfigErrors</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">errors</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.config.ConfigErrors" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>errors</strong> (<em>list</em>) – errors to report</p>
</dd>
</dl>
<p>This exception represents errors in the configuration.  It supports
reporting multiple errors to the user simultaneously, e.g., when several
consistency checks fail.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.ConfigErrors.errors">
<span class="sig-name descname"><span class="pre">errors</span></span><a class="headerlink" href="#buildbot.config.ConfigErrors.errors" title="Link to this definition"></a></dt>
<dd><p>A list of detected errors, each given as a string.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildbot.config.ConfigErrors.addError">
<span class="sig-name descname"><span class="pre">addError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.config.ConfigErrors.addError" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> (<em>string</em>) – the message to add</p>
</dd>
</dl>
<p>Add another error message to the (presumably not-yet-raised) exception.</p>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="configuration-in-angularjs">
<h1><span class="section-number">3.3.5. </span>Configuration in AngularJS<a class="headerlink" href="#configuration-in-angularjs" title="Link to this heading"></a></h1>
<p>The AngularJS frontend often needs access to the local master configuration.
This is accomplished automatically by converting various pieces of the master configuration to a dictionary.</p>
<p>The <a class="reference internal" href="#buildbot.config.buildbot.interfaces.IConfigured" title="buildbot.config.buildbot.interfaces.IConfigured"><code class="xref py py-class docutils literal notranslate"><span class="pre">IConfigured</span></code></a> interface represents a way to convert any object into a JSON-able dictionary.</p>
<dl class="py class">
<dt class="sig sig-object py" id="buildbot.config.buildbot.interfaces.IConfigured">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">buildbot.interfaces.</span></span><span class="sig-name descname"><span class="pre">IConfigured</span></span><a class="headerlink" href="#buildbot.config.buildbot.interfaces.IConfigured" title="Link to this definition"></a></dt>
<dd><p>Providers of this interface provide a method to get their configuration as a dictionary:</p>
<dl class="py method">
<dt class="sig sig-object py" id="buildbot.config.buildbot.interfaces.IConfigured.getConfigDict">
<span class="sig-name descname"><span class="pre">getConfigDict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.config.buildbot.interfaces.IConfigured.getConfigDict" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
<p>Return the configuration of this object.
Note that despite the name, the return value may not be a dictionary.</p>
</dd></dl>

<p>Any object can be “cast” to an <a class="reference internal" href="#buildbot.config.buildbot.interfaces.IConfigured" title="buildbot.config.buildbot.interfaces.IConfigured"><code class="xref py py-class docutils literal notranslate"><span class="pre">IConfigured</span></code></a> provider.
The <code class="docutils literal notranslate"><span class="pre">getConfigDict</span></code> method for basic Python objects simply returns the value.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">IConfigured</span><span class="p">(</span><span class="n">someObject</span><span class="p">)</span><span class="o">.</span><span class="n">getConfigDict</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="buildbot.config.buildbot.util.ConfiguredMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">buildbot.util.</span></span><span class="sig-name descname"><span class="pre">ConfiguredMixin</span></span><a class="headerlink" href="#buildbot.config.buildbot.util.ConfiguredMixin" title="Link to this definition"></a></dt>
<dd><p>This class is a basic implementation of <a class="reference internal" href="#buildbot.config.buildbot.interfaces.IConfigured" title="buildbot.config.buildbot.interfaces.IConfigured"><code class="xref py py-class docutils literal notranslate"><span class="pre">IConfigured</span></code></a>.
Its <a class="reference internal" href="#buildbot.config.buildbot.util.ConfiguredMixin.getConfigDict" title="buildbot.config.buildbot.util.ConfiguredMixin.getConfigDict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getConfigDict</span></code></a> method simply returns the instance’s <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute (all objects configured must have the <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute).</p>
<dl class="py method">
<dt class="sig sig-object py" id="buildbot.config.buildbot.util.ConfiguredMixin.getConfigDict">
<span class="sig-name descname"><span class="pre">getConfigDict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.config.buildbot.util.ConfiguredMixin.getConfigDict" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
<p>Return a config dictionary representing this object.</p>
</dd></dl>

</dd></dl>

<p>All of this is used by to serve <code class="docutils literal notranslate"><span class="pre">/config.js</span></code> to the JavaScript frontend.</p>
<section id="reconfiguration">
<span id="developer-reconfiguration"></span><h2><span class="section-number">3.3.5.1. </span>Reconfiguration<a class="headerlink" href="#reconfiguration" title="Link to this heading"></a></h2>
<p>When the buildmaster receives a signal to begin a reconfig, it re-reads the
configuration file, generating a new <a class="reference internal" href="#buildbot.config.MasterConfig" title="buildbot.config.MasterConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">MasterConfig</span></code></a> instance, and
then notifies all of its child services via the reconfig mechanism described
below.  The master ensures that at most one reconfiguration is taking place at
any time.</p>
<p>See <a class="reference internal" href="master-overview.html#master-service-hierarchy"><span class="std std-ref">Master Organization</span></a> for the structure of the Buildbot service
tree.</p>
<p>To simplify initialization, a reconfiguration is performed immediately on
master startup.  As a result, services only need to implement their
configuration handling once, and can use <code class="docutils literal notranslate"><span class="pre">startService</span></code> for initialization.</p>
<p>See below for instructions on implementing configuration of common types of
components in Buildbot.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Because Buildbot uses a pure-Python configuration file, it is not possible
to support all forms of reconfiguration.  In particular, when the
configuration includes custom subclasses or modules, reconfiguration can
turn up some surprising behaviors due to the dynamic nature of Python.  The
reconfig support in Buildbot is intended for “intermediate” uses of the
software, where there are fewer surprises.</p>
</div>
<section id="reconfigurable-services">
<span id="index-0"></span><h3>Reconfigurable Services<a class="headerlink" href="#reconfigurable-services" title="Link to this heading"></a></h3>
<p>Instances which need to be notified of a change in configuration should be
implemented as Twisted services and mix in the
<a class="reference internal" href="#buildbot.config.ReconfigurableServiceMixin" title="buildbot.config.ReconfigurableServiceMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReconfigurableServiceMixin</span></code></a> class, overriding the
<a class="reference internal" href="#buildbot.config.ReconfigurableServiceMixin.reconfigServiceWithBuildbotConfig" title="buildbot.config.ReconfigurableServiceMixin.reconfigServiceWithBuildbotConfig"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reconfigServiceWithBuildbotConfig</span></code></a> method.</p>
<p>The services implementing <code class="docutils literal notranslate"><span class="pre">ReconfigurableServiceMixin</span></code> operate on whole master configuration.</p>
<p>In some cases they are effectively singletons that handle configuration identified by a specific configuration key.
Such singletons often manage non-singleton services as children and pass bits of its own configuration when reconfiguring these children.
<code class="docutils literal notranslate"><span class="pre">BuildbotServiceManager</span></code> is one internal implementation of <code class="docutils literal notranslate"><span class="pre">ReconfigurableServiceMixin</span></code> which accepts a list of child service configurations as its configuration and then intelligently reconfigures child services on changes.</p>
<p>Non-singleton <code class="docutils literal notranslate"><span class="pre">ReconfigurableServiceMixin</span></code> services are harder to write as they must manually pick its configuration from whole master configuration.
The parent service also needs explicit support for this kind of setup to work correctly.</p>
<dl class="py class">
<dt class="sig sig-object py" id="buildbot.config.ReconfigurableServiceMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">buildbot.config.</span></span><span class="sig-name descname"><span class="pre">ReconfigurableServiceMixin</span></span><a class="headerlink" href="#buildbot.config.ReconfigurableServiceMixin" title="Link to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="buildbot.config.ReconfigurableServiceMixin.reconfigServiceWithBuildbotConfig">
<span class="sig-name descname"><span class="pre">reconfigServiceWithBuildbotConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_config</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.config.ReconfigurableServiceMixin.reconfigServiceWithBuildbotConfig" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_config</strong> (<a class="reference internal" href="#buildbot.config.MasterConfig" title="buildbot.config.MasterConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">MasterConfig</span></code></a>) – new master configuration</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Deferred</p>
</dd>
</dl>
<p>This method notifies the service that it should make any changes
necessary to adapt to the new configuration values given.</p>
<p>This method will be called automatically after a service is started.</p>
<p>It is generally too late at this point to roll back the
reconfiguration, so if possible, any errors should be detected in the
<a class="reference internal" href="#buildbot.config.MasterConfig" title="buildbot.config.MasterConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">MasterConfig</span></code></a> implementation.  Errors are handled as best as
possible and communicated back to the top level invocation, but such
errors may leave the master in an inconsistent state.
<a class="reference internal" href="#buildbot.config.ConfigErrors" title="buildbot.config.ConfigErrors"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ConfigErrors</span></code></a> exceptions will be displayed appropriately to
the user on startup.</p>
<p>Subclasses should always call the parent class’s implementation. For
<code class="xref py py-class docutils literal notranslate"><span class="pre">MultiService</span></code> instances, this will call any child services’
<code class="xref py py-meth docutils literal notranslate"><span class="pre">reconfigService</span></code> methods, as appropriate.  This will be done
sequentially, such that the Deferred from one service must fire before
the next service is reconfigured.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="buildbot.config.ReconfigurableServiceMixin.priority">
<span class="sig-name descname"><span class="pre">priority</span></span><a class="headerlink" href="#buildbot.config.ReconfigurableServiceMixin.priority" title="Link to this definition"></a></dt>
<dd><p>Child services are reconfigured in order of decreasing priority.  The
default priority is 128, so a service that must be reconfigured before
others should be given a higher priority.</p>
</dd></dl>

</dd></dl>

</section>
<section id="change-sources">
<h3>Change Sources<a class="headerlink" href="#change-sources" title="Link to this heading"></a></h3>
<p>When reconfiguring, there is no method by which Buildbot can determine that a
new <a class="reference internal" href="cls-changesources.html#buildbot.changes.base.ChangeSource" title="buildbot.changes.base.ChangeSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeSource</span></code></a> represents the same source
as an existing <a class="reference internal" href="cls-changesources.html#buildbot.changes.base.ChangeSource" title="buildbot.changes.base.ChangeSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeSource</span></code></a>, but with
different configuration parameters.  As a result, the change source manager
compares the lists of existing and new change sources using equality, stops any
existing sources that are not in the new list, and starts any new change
sources that do not already exist.</p>
<p><a class="reference internal" href="cls-changesources.html#buildbot.changes.base.ChangeSource" title="buildbot.changes.base.ChangeSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeSource</span></code></a> inherits
<a class="reference internal" href="utils.html#buildbot.util.ComparableMixin" title="buildbot.util.ComparableMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ComparableMixin</span></code></a>, so change sources are compared
based on the attributes described in their <code class="docutils literal notranslate"><span class="pre">compare_attrs</span></code>.</p>
<p>If a change source does not make reference to any global configuration
parameters, then there is no need to inherit
<a class="reference internal" href="#buildbot.config.ReconfigurableServiceMixin" title="buildbot.config.ReconfigurableServiceMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReconfigurableServiceMixin</span></code></a>, as a simple comparison and
<code class="docutils literal notranslate"><span class="pre">startService</span></code> and <code class="docutils literal notranslate"><span class="pre">stopService</span></code> will be sufficient.</p>
<p>If the change source does make reference to global values, e.g., as default
values for its parameters, then it must inherit
<a class="reference internal" href="#buildbot.config.ReconfigurableServiceMixin" title="buildbot.config.ReconfigurableServiceMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReconfigurableServiceMixin</span></code></a> to support the case where the global
values change.</p>
</section>
<section id="schedulers">
<h3>Schedulers<a class="headerlink" href="#schedulers" title="Link to this heading"></a></h3>
<p>Schedulers have names, so Buildbot can determine whether a scheduler has been added, removed, or changed during a reconfig.
Old schedulers will be stopped, new schedulers will be started, and both new and existing schedulers will see a call to <code class="xref py py-meth docutils literal notranslate"><span class="pre">reconfigService</span></code>, if such a method exists.
For backward compatibility, schedulers that do not support reconfiguration will be stopped, and a new scheduler will be started when their configuration changes.</p>
<p>During a reconfiguration, if a new and old scheduler’s fully qualified class names differ, then the old class will be stopped, and the new class will be started.
This supports the case when a user changes, for example, a <a class="reference internal" href="../manual/configuration/schedulers.html#sched-Nightly" title="Nightly"><code class="xref bb bb-sched docutils literal notranslate"><span class="pre">Nightly</span></code></a> scheduler to a <a class="reference internal" href="../manual/configuration/schedulers.html#sched-Periodic" title="Periodic"><code class="xref bb bb-sched docutils literal notranslate"><span class="pre">Periodic</span></code></a> scheduler without changing the name.</p>
<p>Because Buildbot uses <a class="reference internal" href="cls-basescheduler.html#buildbot.schedulers.base.BaseScheduler" title="buildbot.schedulers.base.BaseScheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseScheduler</span></code></a> instances directly in the configuration file, a reconfigured scheduler must extract its new configuration information from another instance of itself.</p>
<section id="custom-subclasses">
<h4>Custom Subclasses<a class="headerlink" href="#custom-subclasses" title="Link to this heading"></a></h4>
<p>Custom subclasses are most often defined directly in the configuration file, or
in a Python module that is reloaded with <code class="docutils literal notranslate"><span class="pre">reload</span></code> every time the
configuration is loaded.  Because of the dynamic nature of Python, this creates
a new object representing the subclass every time the configuration is loaded
– even if the class definition has not changed.</p>
<p>Note that if a scheduler’s class changes in a reconfig, but the scheduler’s
name does not, it will still be treated as a reconfiguration of the existing
scheduler.  This means that implementation changes in custom scheduler
subclasses will not be activated with a reconfig.  This behavior avoids
stopping and starting such schedulers on every reconfig, but can make
development difficult.</p>
<p>One workaround for this is to change the name of the scheduler before each
reconfig - this will cause the old scheduler to be stopped, and the new
scheduler (with the new name and class) to be started.</p>
</section>
</section>
<section id="workers">
<h3>Workers<a class="headerlink" href="#workers" title="Link to this heading"></a></h3>
<p>Similar to schedulers, workers are specified by name, so new and old configurations are first compared by name, and any workers to be added or
removed are noted.
Workers for which the fully-qualified class name has changed are also added and removed.
All workers have their <code class="xref py py-meth docutils literal notranslate"><span class="pre">reconfigService</span></code> method called.</p>
<p>This method takes care of the basic worker attributes, including changing the PB registration if necessary.
Any subclasses that add configuration parameters should override <code class="xref py py-meth docutils literal notranslate"><span class="pre">reconfigService</span></code> and update those parameters.
As with schedulers, because the <code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractWorker</span></code> instance is given directly in the configuration, a reconfigured worker instance must extract its new configuration from another instance of itself.</p>
</section>
<section id="user-managers">
<h3>User Managers<a class="headerlink" href="#user-managers" title="Link to this heading"></a></h3>
<p>Since user managers are rarely used, and their purpose is unclear, they are always stopped and re-started on every reconfig.
This may change in future versions.</p>
</section>
<section id="status-receivers">
<h3>Status Receivers<a class="headerlink" href="#status-receivers" title="Link to this heading"></a></h3>
<p>At every reconfig, all status listeners are stopped, and new versions are started.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tests.html" class="btn btn-neutral float-left" title="3.3.3. Buildbot’s Test Suite" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="schedulers.html" class="btn btn-neutral float-right" title="3.3.6. Writing Schedulers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Buildbot Team Members.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>