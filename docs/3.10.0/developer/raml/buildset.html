<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3.5.4. buildset &mdash; Buildbot 3.10.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d10597a4" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/buildbot_rtd.css?v=915d5e18" />

  
    <link rel="shortcut icon" href="../../_static/icon.png"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=f8d09eac"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="3.5.5. build_data" href="build_data.html" />
    <link rel="prev" title="3.5.3. build" href="build.html" /> 
<!-- GA-TRACKING-START -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try{
var pageTracker = _gat._getTracker("UA-12313843-4");
pageTracker._setDomainName("none");
pageTracker._setAllowLinker(true);
pageTracker._trackPageview();
} catch(err) {}
</script>
<!-- GA-TRACKING-END -->
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Buildbot
              <img src="../../_static/full_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.10.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/index.html">1. Buildbot Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../manual/index.html">2. Buildbot Manual</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">3. Buildbot Development</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html">3.1. Development Quick-start</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pull-request.html">3.2. Submitting Pull Requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general.html">3.3. General Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rest.html">3.4. REST API</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">3.5. REST API Specification</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="builder.html">3.5.1. builder</a></li>
<li class="toctree-l3"><a class="reference internal" href="buildrequest.html">3.5.2. buildrequest</a></li>
<li class="toctree-l3"><a class="reference internal" href="build.html">3.5.3. build</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">3.5.4. buildset</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#update-methods">3.5.4.1. Update Methods</a></li>
<li class="toctree-l4"><a class="reference internal" href="#endpoints">3.5.4.2. Endpoints</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="build_data.html">3.5.5. build_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="change.html">3.5.6. change</a></li>
<li class="toctree-l3"><a class="reference internal" href="changesource.html">3.5.7. changesource</a></li>
<li class="toctree-l3"><a class="reference internal" href="forcescheduler.html">3.5.8. forcescheduler</a></li>
<li class="toctree-l3"><a class="reference internal" href="identifier.html">3.5.9. identifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="logchunk.html">3.5.10. logchunk</a></li>
<li class="toctree-l3"><a class="reference internal" href="log.html">3.5.11. log</a></li>
<li class="toctree-l3"><a class="reference internal" href="master.html">3.5.12. master</a></li>
<li class="toctree-l3"><a class="reference internal" href="patch.html">3.5.13. patch</a></li>
<li class="toctree-l3"><a class="reference internal" href="project.html">3.5.14. project</a></li>
<li class="toctree-l3"><a class="reference internal" href="rootlink.html">3.5.15. rootlink</a></li>
<li class="toctree-l3"><a class="reference internal" href="scheduler.html">3.5.16. scheduler</a></li>
<li class="toctree-l3"><a class="reference internal" href="sourcedproperties.html">3.5.17. sourcedproperties</a></li>
<li class="toctree-l3"><a class="reference internal" href="sourcestamp.html">3.5.18. sourcestamp</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec.html">3.5.19. spec</a></li>
<li class="toctree-l3"><a class="reference internal" href="step.html">3.5.20. step</a></li>
<li class="toctree-l3"><a class="reference internal" href="worker.html">3.5.21. worker</a></li>
<li class="toctree-l3"><a class="reference internal" href="test_result.html">3.5.22. test_result</a></li>
<li class="toctree-l3"><a class="reference internal" href="test_result_set.html">3.5.23. test_result_set</a></li>
<li class="toctree-l3"><a class="reference internal" href="raw-endpoints.html">3.5.24. Raw endpoints</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../data.html">3.6. Data API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database.html">3.7. Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/index.html">3.8. Database connectors API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mq.html">3.9. Messaging and Queues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../classes.html">3.10. Classes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../relnotes/index.html">4. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../relnotes/index.html#older-release-notes">5. Older Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../indices.html">6. API Indices</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Buildbot</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html"><span class="section-number">3. </span>Buildbot Development</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">3.5. </span>REST API Specification</a></li>
      <li class="breadcrumb-item active"><span class="section-number">3.5.4. </span>buildset</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/developer/raml/buildset.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="buildset">
<h1><span class="section-number">3.5.4. </span>buildset<a class="headerlink" href="#buildset" title="Link to this heading"></a></h1>
<dl id="rtype-buildset">
<dt class="sig sig-object bb">
<em class="property"><span class="pre">resource</span> <span class="pre">type:</span> </em><span class="sig-name descname"><span class="pre">buildset</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bsid</strong> (<em>integer</em>) – the ID of this buildset</p></li>
<li><p><strong>complete</strong> (<em>boolean</em>) – true if all of the build requests in this buildset are complete</p></li>
<li><p><strong>complete_at?</strong> (<em>integer</em>) – the time this buildset was completed, or None if not complete</p></li>
<li><p><strong>external_idstring?</strong> (<em>string</em>) – an identifier that external applications can use to identify a submitted buildset; can be None</p></li>
<li><p><strong>parent_buildid?</strong> (<em>integer</em>) – optional build id that is the parent for this buildset</p></li>
<li><p><strong>parent_relationship?</strong> (<em>string</em>) – relationship identifier for the parent, this is a configured relationship between the parent build, and the childs buildsets</p></li>
<li><p><strong>reason</strong> (<em>string</em>) – the reason this buildset was scheduled</p></li>
<li><p><strong>results?</strong> (<em>integer</em>) – the results of the buildset (see <a class="reference internal" href="../results.html#build-result-codes"><span class="std std-ref">Build Result Codes</span></a>), or None if not complete</p></li>
<li><p><strong>sourcestamps[]</strong> (<em>sourcestamp</em>) – the sourcestamps for this buildset; each element is a valid <a class="reference internal" href="sourcestamp.html#rtype-sourcestamp" title="sourcestamp"><code class="xref bb bb-rtype docutils literal notranslate"><span class="pre">sourcestamp</span></code></a> entity</p></li>
<li><p><strong>submitted_at</strong> (<em>integer</em>) – the time this buildset was submitted</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>A buildset gathers build requests that were scheduled at the same time, and which share a source stamp, properties, and so on.</p>
<section id="update-methods">
<h2><span class="section-number">3.5.4.1. </span>Update Methods<a class="headerlink" href="#update-methods" title="Link to this heading"></a></h2>
<p>All update methods are available as attributes of <code class="docutils literal notranslate"><span class="pre">master.data.updates</span></code>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="buildbot.data.buildsets.Buildset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">buildbot.data.buildsets.</span></span><span class="sig-name descname"><span class="pre">Buildset</span></span><a class="headerlink" href="#buildbot.data.buildsets.Buildset" title="Link to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="buildbot.data.buildsets.Buildset.addBuildset">
<span class="sig-name descname"><span class="pre">addBuildset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scheduler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sourcestamps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reason</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">properties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">builderids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">external_idstring</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_buildid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_relationship</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.data.buildsets.Buildset.addBuildset" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scheduler</strong> (<em>string</em>) – the name of the scheduler creating this buildset</p></li>
<li><p><strong>sourcestamps</strong> (<em>list</em>) – sourcestamps for the new buildset; see below</p></li>
<li><p><strong>reason</strong> (<em>unicode</em>) – the reason for this build</p></li>
<li><p><strong>properties</strong> (<em>dictionary with unicode keys and</em><em> (</em><em>source</em><em>, </em><em>property value</em><em>) </em><em>values</em>) – properties to set on this buildset</p></li>
<li><p><strong>builderids</strong> (<em>list</em>) – names of the builders for which build requests should be created</p></li>
<li><p><strong>external_idstring</strong> (<em>unicode</em>) – arbitrary identifier to recognize this buildset later</p></li>
<li><p><strong>parent_buildid</strong> (<em>int</em>) – optional build id that is the parent for this buildset</p></li>
<li><p><strong>parent_relationship</strong> (<em>unicode</em>) – relationship identifier for the parent, this is a configured relationship between the parent build, and the childs buildsets</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(buildset id, dictionary mapping builder ids to build request ids) via Deferred</p>
</dd>
</dl>
<p>Create a new buildset and corresponding buildrequests based on the given parameters.
This is the low-level interface for scheduling builds.</p>
<p>Each sourcestamp in the list of sourcestamps can be given either as an integer, assumed to be a sourcestamp ID, or a dictionary of keyword arguments to be passed to <a class="reference internal" href="../database/sourcestamps.html#buildbot.db.sourcestamps.SourceStampsConnectorComponent.findSourceStampId" title="buildbot.db.sourcestamps.SourceStampsConnectorComponent.findSourceStampId"><code class="xref py py-meth docutils literal notranslate"><span class="pre">findSourceStampId</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildbot.data.buildsets.Buildset.maybeBuildsetComplete">
<span class="sig-name descname"><span class="pre">maybeBuildsetComplete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bsid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildbot.data.buildsets.Buildset.maybeBuildsetComplete" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>bsid</strong> (<em>integer</em>) – id of the buildset that may be complete</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Deferred</p>
</dd>
</dl>
<p>This method should be called when a build request is finished.
It checks the given buildset to see if all of its buildrequests are finished.
If so, it updates the status of the buildset and sends the appropriate messages.</p>
</dd></dl>

</dd></dl>

</section>
<section id="endpoints">
<h2><span class="section-number">3.5.4.2. </span>Endpoints<a class="headerlink" href="#endpoints" title="Link to this heading"></a></h2>
<dl id="rpath-/buildsets">
<dt class="sig sig-object bb">
<em class="property"><span class="pre">path:</span> </em><span class="sig-name descname"><span class="pre">/buildsets</span></span></dt>
<dd></dd></dl>

<p>This path selects all buildsets</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">GET</span></code></dt><dd><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">returns</span></code></dt><dd><p><a class="reference internal" href="../rest.html#rtype-collection" title="collection"><code class="xref bb bb-rtype docutils literal notranslate"><span class="pre">collection</span></code></a> of <a class="reference internal" href="#rtype-buildset" title="buildset"><code class="xref bb bb-rtype docutils literal notranslate"><span class="pre">buildset</span></code></a></p>
</dd>
</dl>
</dd>
</dl>
<dl id="rpath-/buildsets/{bsid}">
<dt class="sig sig-object bb">
<em class="property"><span class="pre">path:</span> </em><span class="sig-name descname"><span class="pre">/buildsets/{bsid}</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Path Keys<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>bsid</strong> (<em>identifier</em>) – the id of the buildset</p>
</dd>
</dl>
</dd></dl>

<p>This path selects a buildset by id</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">GET</span></code></dt><dd><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">returns</span></code></dt><dd><p><a class="reference internal" href="../rest.html#rtype-collection" title="collection"><code class="xref bb bb-rtype docutils literal notranslate"><span class="pre">collection</span></code></a> of <a class="reference internal" href="#rtype-buildset" title="buildset"><code class="xref bb bb-rtype docutils literal notranslate"><span class="pre">buildset</span></code></a></p>
</dd>
</dl>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="build.html" class="btn btn-neutral float-left" title="3.5.3. build" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="build_data.html" class="btn btn-neutral float-right" title="3.5.5. build_data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Buildbot Team Members.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>